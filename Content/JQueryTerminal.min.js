function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO;a=self;b=a.WebSharperTerminalSample=a.WebSharperTerminalSample||{};c=b.Client=b.Client||{};d=a.StartupCode$JQueryTerminal$Client=a.StartupCode$JQueryTerminal$Client||{};e=a.WebSharper=a.WebSharper||{};f=e.Operators=e.Operators||{};g=e.Obj=e.Obj||{};h=e.UI=e.UI||{};i=h.Var$1=h.Var$1||{};j=h.Templating=h.Templating||{};k=j.Runtime=j.Runtime||{};l=k.Server=k.Server||{};m=l.TemplateInstance=l.TemplateInstance||{};n=e.Arrays=e.Arrays||{};o=l.ProviderBuilder=l.ProviderBuilder||{};p=h.AttrProxy=h.AttrProxy||{};q=e.List=e.List||{};r=l.Handler=l.Handler||{};s=e.JavaScript=e.JavaScript||{};t=s.JS=s.JS||{};u=h.Var=h.Var||{};v=a.JQueryTerminal_Templates=a.JQueryTerminal_Templates||{};w=h.ConcreteVar=h.ConcreteVar||{};x=h.Snap=h.Snap||{};y=h.Client=h.Client||{};z=y.Templates=y.Templates||{};A=h.Doc=h.Doc||{};B=s.Pervasives=s.Pervasives||{};C=e.Collections=e.Collections||{};D=C.List=C.List||{};E=h.Array=h.Array||{};F=e.Unchecked=e.Unchecked||{};G=a.System=a.System||{};H=G.Guid=G.Guid||{};I=q.T=q.T||{};J=h.AttrModule=h.AttrModule||{};K=C.Dictionary=C.Dictionary||{};L=C.HashSet=C.HashSet||{};M=k.Client=k.Client||{};N=e.Seq=e.Seq||{};O=h.Abbrev=h.Abbrev||{};P=O.Fresh=O.Fresh||{};Q=a.EventTarget;R=a.Node;S=h.DomUtility=h.DomUtility||{};T=a.Object;U=h.Attrs=h.Attrs||{};V=h.View=h.View||{};W=h.CheckedInput=h.CheckedInput||{};X=e.Numeric=e.Numeric||{};Y=C.DictionaryUtil=C.DictionaryUtil||{};Z=e.Enumerator=e.Enumerator||{};_0=Z.T=Z.T||{};_1=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};_2=a.WindowOrWorkerGlobalScope;_3=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};_4=h.Docs=h.Docs||{};_5=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};_6=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};_7=z.Prepare=z.Prepare||{};_8=e.Slice=e.Slice||{};_9=C.KeyCollection=C.KeyCollection||{};_=h.DocElemNode=h.DocElemNode||{};$=a.CharacterData;ba=h.An=h.An||{};bb=y.Settings=y.Settings||{};bc=O.Mailbox=O.Mailbox||{};bd=C.HashSetUtil=C.HashSetUtil||{};be=e.Strings=e.Strings||{};bf=y.Attrs=y.Attrs||{};bg=bf.Dyn=bf.Dyn||{};bh=y.Docs=y.Docs||{};bi=bh.RunState=bh.RunState||{};bj=bh.NodeSet=bh.NodeSet||{};bk=h.Anims=h.Anims||{};bl=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};bm=h.Elt=h.Elt||{};bn=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};bo=e.Concurrency=e.Concurrency||{};bp=h.AppendList=h.AppendList||{};bq=h.Updates=h.Updates||{};br=h.Easing=h.Easing||{};bs=bo.AsyncBody=bo.AsyncBody||{};bt=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};bu=bo.CT=bo.CT||{};bv=O.HashSet=O.HashSet||{};bw=h.String=h.String||{};bx=bo.Scheduler=bo.Scheduler||{};by=e.CancellationTokenSource=e.CancellationTokenSource||{};bz=bh.DomNodes=bh.DomNodes||{};bA=e.Char=e.Char||{};bB=h.DynamicAttrNode=h.DynamicAttrNode||{};bC=a.Error;bD=e.OperationCanceledException=e.OperationCanceledException||{};bE=e.Lazy=e.Lazy||{};bF=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};bG=e.LazyExtensionsProxy=e.LazyExtensionsProxy||{};bH=bG.LazyRecord=bG.LazyRecord||{};bI=e.Queue=e.Queue||{};bJ=a.IntelliFactory;bK=bJ&&bJ.Runtime;bL=a.jQuery;bM=a.console;bN=a.Math;bO=a.Date;c.Main=function(){var bP,bQ;bP=c.interpreter();bQ=c.Opt();a.$("#main").terminal(bP,bQ);};c.interpreter=function(){d.$cctor();return d.interpreter;};c.Opt=function(){d.$cctor();return d.Opt;};c.set_numOfTemplates=function(bP){d.$cctor();d.numOfTemplates=bP;};c.numOfTemplates=function(){d.$cctor();return d.numOfTemplates;};c.i2=function(bP,bQ){if(bQ==="asd")bP.echo("kek");else if(bQ==="switch")bP.pop();else bP.echo("...");};c.intOpt=function(){d.$cctor();return d.intOpt;};c.Blank=function(bP){return bP===""?{$:1,$0:null}:null;};c.Switch=function(bP){return bP==="switch"?{$:1,$0:null}:null;};c.Clear=function(bP){return bP==="clear"?{$:1,$0:null}:null;};c.Template=function(bP){return bP==="template"?{$:1,$0:null}:null;};c.Help=function(bP){return bP==="help"?{$:1,$0:null}:null;};d.$cctor=function(){var bP,bQ;d.$cctor=a.ignore;d.intOpt=(bP={},bP.name="No2",bP.prompt="+ ",bP);d.numOfTemplates=0;d.interpreter=function(bR){var bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4;return(bS=c.Help(bR),bS!=null&&bS.$==1)?this.echo("Commands: help, clear, template"):(bT=c.Template(bR),bT!=null&&bT.$==1)?(c.set_numOfTemplates(c.numOfTemplates()+1),bU="template"+a.String(c.numOfTemplates()),bV=i.Create$1(""),bW=(bX=(bY=(bZ=q.ofArray([J.Handler("keypress",function(){return function(b5){return b5.stopPropagation();};}),J.Handler("keydown",function(){return function(b5){return b5.stopPropagation();};}),J.Handler("keyup",function(){return function(b5){return b5.stopPropagation();};}),J.Handler("input",function(){return function(b5){return b5.stopPropagation();};})]),o.Make().WithHole({$:8,$0:"projname",$1:bV}).WithHole({$:3,$0:"eventprop",$1:p.Concat(bZ)})),bY.WithHole(r.EventQ2(bY.k,"download",function(){return bY.i;},function(){a.alert(bV.Get());}))),(b0=r.CompleteHoles(bX.k,bX.h,[["projname",0]]),(b1=new m.New(b0[1],v.form(b0[0])),(bX.i=b1,b1)))).get_Doc(),this.echo("<div id=\""+bU+"\"></div>",{raw:true}),z.LoadLocalTemplates(""),A.RunById(bU,bW)):(b2=c.Clear(bR),b2!=null&&b2.$==1)?this.clear():(b3=c.Switch(bR),b3!=null&&b3.$==1)?this.push(function(b5){return c.i2(this,b5);},c.intOpt()):(b4=c.Blank(bR),b4!=null&&b4.$==1)?this.echo(""):this.echo("Unknown command",{raw:true});};d.Opt=(bQ={},bQ.name="Terminal1",bQ.prompt="> ",bQ.greetings="Welcome to the Terminal Test Page! See 'help' for the list of commands.",bQ.onInit=function(bR){bR.enable();return bR.echo("Hey Dood, it's workin'!");},bQ);};f.FailWith=function(bP){throw new bC(bP);};f.KeyValue=function(bP){return[bP.K,bP.V];};g=e.Obj=bK.Class({Equals:function(bP){return this===bP;},GetHashCode:function(){return -1;}},null,g);g.New=bK.Ctor(function(){},g);i=h.Var$1=bK.Class({},g,i);i.Create$1=function(bP){return new w.New(false,x.New({$:2,$0:bP,$1:[]}),bP);};m=l.TemplateInstance=bK.Class({get_Doc:function(){return this.doc;}},g,m);m.New=bK.Ctor(function(bP,bQ){g.New.call(this);this.doc=bQ;this.allVars=bP.$==0?bP.$0:f.FailWith("Should not happen");},m);n.get=function(bP,bQ){n.checkBounds(bP,bQ);return bP[bQ];};n.length=function(bP){return bP.dims===2?bP.length*bP.length:bP.length;};n.checkBounds=function(bP,bQ){if(bQ<0||bQ>=bP.length)f.FailWith("Index was outside the bounds of the array.");};n.set=function(bP,bQ,bR){n.checkBounds(bP,bQ);bP[bQ]=bR;};o=l.ProviderBuilder=bK.Class({WithHole:function(bP){this.h.push(bP);return this;}},null,o);o.Make=function(){var bP;return o.New(null,(bP=H.NewGuid(),a.String(bP)),[]);};o.New=function(bP,bQ,bR){return new o({i:bP,k:bQ,h:bR});};p=h.AttrProxy=bK.Class({},null,p);p.Concat=function(bP){var bQ;bQ=E.ofSeqNonCopying(bP);return E.TreeReduce(U.EmptyAttr(),p.Append,bQ);};p.Append=function(bP,bQ){return U.AppendTree(bP,bQ);};p.Handler=function(bP,bQ){return p.HandlerImpl(bP,bQ);};p.Create=function(bP,bQ){return U.Static(function(bR){S.SetAttr(bR,bP,bQ);});};p.HandlerImpl=function(bP,bQ){return U.Static(function(bR){bR.addEventListener(bP,function(bS){return(bQ(bR))(bS);},false);});};q.ofArray=function(bP){var bQ,bR,bS;bQ=I.Empty;for(bR=n.length(bP)-1,bS=0;bR>=bS;bR--)bQ=new I({$:1,$0:n.get(bP,bR),$1:bQ});return bQ;};q.head=function(bP){return bP.$==1?bP.$0:q.listEmpty();};q.tail=function(bP){return bP.$==1?bP.$1:q.listEmpty();};q.listEmpty=function(){return f.FailWith("The input list was empty.");};r.EventQ2=function(bP,bQ,bR,bS){return{$:5,$0:bQ,$1:true,$2:function(bT){return function(bU){return bS({Vars:bR(),Target:bT,Event:bU});};}};};r.CompleteHoles=function(bP,bQ,bR){var bT,bU,bV,bW,bX,bY;function bS(bZ,b0){var b1,b2,b3,b4;return bU.Contains(bZ)?null:(b1=b0===0?(b2=i.Create$1(""),[{$:8,$0:bZ,$1:b2},b2]):b0===1?(b3=i.Create$1(0),[{$:13,$0:bZ,$1:b3},b3]):b0===2?(b4=i.Create$1(false),[{$:9,$0:bZ,$1:b4},b4]):f.FailWith("Invalid value type"),(bT.set_Item(bZ,b1[1]),{$:1,$0:b1[0]}));}bT=new K.New$5();bU=new L.New$3();bV=Z.Get(bQ);try{while(bV.MoveNext()){bW=bV.Current();(bW.$==8?(bX=[bW.$0,M.Box(bW.$1)],true):bW.$==11?(bX=[bW.$0,M.Box(bW.$1)],true):bW.$==10?(bX=[bW.$0,M.Box(bW.$1)],true):bW.$==13?(bX=[bW.$0,M.Box(bW.$1)],true):bW.$==12?(bX=[bW.$0,M.Box(bW.$1)],true):bW.$==9&&(bX=[bW.$0,M.Box(bW.$1)],true))?(bY=bX[0],bU.Add(bY),bT.set_Item(bY,bX[1])):void 0;}}finally{if(typeof bV=="object"&&"Dispose"in bV)bV.Dispose();}return[N.append(bQ,n.choose(function(bZ){return bS(bZ[0],bZ[1]);},bR)),{$:0,$0:bT}];};t.GetFieldValues=function(bP){var bQ,bR;bQ=[];for(var bS in bP)bQ.push(bP[bS]);return bQ;};u=h.Var=bK.Class({},g,u);u.New=bK.Ctor(function(){g.New.call(this);},u);v.form=function(bP){return bP?z.GetOrLoadTemplate("index",{$:1,$0:"form"},function(){return bL.parseHTML("<div class=\"form-class\">\n      <input type=\"text\" id=\"sample1\" placeholder=\"MyProject\" ws-var=\"ProjName\" ws-attr=\"EventProp\">\n      <div class=\"mdl-selectfield mdl-js-selectfield is-dirty\" id=\"plainSelect\" data-upgraded=\",MaterialSelectfield\">\n        <select id=\"myselect\" name=\"myselect\" class=\"mdl-selectfield__select\" style=\"opacity: 0; z-index: -1;\">\n          <option value=\"clientserverfsharp\">Client-Server Application F#\n          </option><option value=\"spafsharp\">Single Page Application F#\n          </option><option value=\"extensionfsharp\">Extension F#\n          </option><option value=\"libraryfsharp\">Library F#\n          </option><option value=\"offlinefsharp\">HTML Application F#\n          </option><option value=\"owinfsharp\">Owin F#\n          </option><option value=\"clientserverfsharp\">Client-Server Application C#\n          </option><option value=\"spacsharp\">Single Page Application C#\n          </option><option value=\"librarycsharp\">Library C#\n          </option><option value=\"offlinecsharp\">HTML Application C#\n        </option></select>\n        <label class=\"mdl-selectfield__label\" for=\"myselect\">Available templates</label>\n        <div class=\"mdl-selectfield__box\" tabindex=\"1\"><span tabindex=\"-1\" class=\"mdl-selectfield__arrow-down__container\"><span class=\"mdl-selectfield__arrow-down\" tabindex=\"-1\"></span></span><span class=\"mdl-selectfield__box-value\" tabindex=\"-1\">Client-Server Application F#\n        </span></div><div class=\"mdl-selectfield__list-option-box\" tabindex=\"-1\"><ul tabindex=\"-1\"><li class=\"is-selected\" data-value=\"0\" tabindex=\"-1\">Client-Server Application F#\n            </li><li class=\"\" data-value=\"1\" tabindex=\"-1\">Single Page Application F#\n            </li><li class=\"\" data-value=\"2\" tabindex=\"-1\">Extension F#\n            </li><li class=\"\" data-value=\"3\" tabindex=\"-1\">Library F#\n            </li><li class=\"\" data-value=\"4\" tabindex=\"-1\">HTML Application F#\n            </li><li class=\"\" data-value=\"5\" tabindex=\"-1\">Owin F#\n            </li><li class=\"\" data-value=\"6\" tabindex=\"-1\">Client-Server Application C#\n            </li><li class=\"\" data-value=\"7\" tabindex=\"-1\">Single Page Application C#\n            </li><li class=\"\" data-value=\"8\" tabindex=\"-1\">Library C#\n            </li><li class=\"\" data-value=\"9\" tabindex=\"-1\">HTML Application C#\n      </li></ul></div></div>\n\n      <div class=\"mdl-selectfield mdl-js-selectfield is-dirty\" id=\"plainIdeSelect\" data-upgraded=\",MaterialSelectfield\">\n        <select id=\"myselect\" name=\"myselect\" class=\"mdl-selectfield__select\" style=\"opacity: 0; z-index: -1;\">\n          <option value=\"vs2017\">Visual Studio 2017\n        </option></select>\n        <label class=\"mdl-selectfield__label\" for=\"myselect\">Your IDE</label>\n        <div class=\"mdl-selectfield__box\" tabindex=\"1\"><span tabindex=\"-1\" class=\"mdl-selectfield__arrow-down__container\"><span class=\"mdl-selectfield__arrow-down\" tabindex=\"-1\"></span></span><span class=\"mdl-selectfield__box-value\" tabindex=\"-1\">Visual Studio 2017\n        </span></div><div class=\"mdl-selectfield__list-option-box\" tabindex=\"-1\"><ul tabindex=\"-1\"><li class=\"is-selected\" data-value=\"0\" tabindex=\"-1\">Visual Studio 2017\n      </li></ul></div></div>\n\n      <div class=\"social-button-group\">\n        <button class=\"mdl-button mdl-js-button mdl-button--raised mdl-button--colored dl-button\" data-upgraded=\",MaterialButton\" ws-onclick=\"Download\">\n          Download\n        </button>\n      </div>\n    </div>");},bP):z.PrepareTemplate("index",{$:1,$0:"form"},function(){return bL.parseHTML("<div class=\"form-class\">\n      <input type=\"text\" id=\"sample1\" placeholder=\"MyProject\" ws-var=\"ProjName\" ws-attr=\"EventProp\">\n      <div class=\"mdl-selectfield mdl-js-selectfield is-dirty\" id=\"plainSelect\" data-upgraded=\",MaterialSelectfield\">\n        <select id=\"myselect\" name=\"myselect\" class=\"mdl-selectfield__select\" style=\"opacity: 0; z-index: -1;\">\n          <option value=\"clientserverfsharp\">Client-Server Application F#\n          </option><option value=\"spafsharp\">Single Page Application F#\n          </option><option value=\"extensionfsharp\">Extension F#\n          </option><option value=\"libraryfsharp\">Library F#\n          </option><option value=\"offlinefsharp\">HTML Application F#\n          </option><option value=\"owinfsharp\">Owin F#\n          </option><option value=\"clientserverfsharp\">Client-Server Application C#\n          </option><option value=\"spacsharp\">Single Page Application C#\n          </option><option value=\"librarycsharp\">Library C#\n          </option><option value=\"offlinecsharp\">HTML Application C#\n        </option></select>\n        <label class=\"mdl-selectfield__label\" for=\"myselect\">Available templates</label>\n        <div class=\"mdl-selectfield__box\" tabindex=\"1\"><span tabindex=\"-1\" class=\"mdl-selectfield__arrow-down__container\"><span class=\"mdl-selectfield__arrow-down\" tabindex=\"-1\"></span></span><span class=\"mdl-selectfield__box-value\" tabindex=\"-1\">Client-Server Application F#\n        </span></div><div class=\"mdl-selectfield__list-option-box\" tabindex=\"-1\"><ul tabindex=\"-1\"><li class=\"is-selected\" data-value=\"0\" tabindex=\"-1\">Client-Server Application F#\n            </li><li class=\"\" data-value=\"1\" tabindex=\"-1\">Single Page Application F#\n            </li><li class=\"\" data-value=\"2\" tabindex=\"-1\">Extension F#\n            </li><li class=\"\" data-value=\"3\" tabindex=\"-1\">Library F#\n            </li><li class=\"\" data-value=\"4\" tabindex=\"-1\">HTML Application F#\n            </li><li class=\"\" data-value=\"5\" tabindex=\"-1\">Owin F#\n            </li><li class=\"\" data-value=\"6\" tabindex=\"-1\">Client-Server Application C#\n            </li><li class=\"\" data-value=\"7\" tabindex=\"-1\">Single Page Application C#\n            </li><li class=\"\" data-value=\"8\" tabindex=\"-1\">Library C#\n            </li><li class=\"\" data-value=\"9\" tabindex=\"-1\">HTML Application C#\n      </li></ul></div></div>\n\n      <div class=\"mdl-selectfield mdl-js-selectfield is-dirty\" id=\"plainIdeSelect\" data-upgraded=\",MaterialSelectfield\">\n        <select id=\"myselect\" name=\"myselect\" class=\"mdl-selectfield__select\" style=\"opacity: 0; z-index: -1;\">\n          <option value=\"vs2017\">Visual Studio 2017\n        </option></select>\n        <label class=\"mdl-selectfield__label\" for=\"myselect\">Your IDE</label>\n        <div class=\"mdl-selectfield__box\" tabindex=\"1\"><span tabindex=\"-1\" class=\"mdl-selectfield__arrow-down__container\"><span class=\"mdl-selectfield__arrow-down\" tabindex=\"-1\"></span></span><span class=\"mdl-selectfield__box-value\" tabindex=\"-1\">Visual Studio 2017\n        </span></div><div class=\"mdl-selectfield__list-option-box\" tabindex=\"-1\"><ul tabindex=\"-1\"><li class=\"is-selected\" data-value=\"0\" tabindex=\"-1\">Visual Studio 2017\n      </li></ul></div></div>\n\n      <div class=\"social-button-group\">\n        <button class=\"mdl-button mdl-js-button mdl-button--raised mdl-button--colored dl-button\" data-upgraded=\",MaterialButton\" ws-onclick=\"Download\">\n          Download\n        </button>\n      </div>\n    </div>");});};w=h.ConcreteVar=bK.Class({Get:function(){return this.current;},get_View:function(){return this.view;},Set:function(bP){if(this.isConst)(function(bQ){return bQ("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(bQ){bM.log(bQ);}));else{x.Obsolete(this.snap);this.current=bP;this.snap=x.New({$:2,$0:bP,$1:[]});}},UpdateMaybe:function(bP){var bQ;bQ=bP(this.Get());bQ!=null&&bQ.$==1?this.Set(bQ.$0):void 0;}},u,w);w.New=bK.Ctor(function(bP,bQ,bR){var bS;bS=this;u.New.call(this);this.isConst=bP;this.current=bR;this.snap=bQ;this.view=function(){return bS.snap;};this.id=P.Int();},w);x.WhenRun=function(bP,bQ,bR){var bS;bS=bP.s;bS==null?bR():bS!=null&&bS.$==2?(bS.$1.push(bR),bQ(bS.$0)):bS!=null&&bS.$==3?(bS.$0.push(bQ),bS.$1.push(bR)):bQ(bS.$0);};x.Map=function(bP,bQ){var bR,bS;bR=bQ.s;return bR!=null&&bR.$==0?x.New({$:0,$0:bP(bR.$0)}):(bS=x.New({$:3,$0:[],$1:[]}),(x.When(bQ,function(bT){x.MarkDone(bS,bQ,bP(bT));},bS),bS));};x.Map3=function(bP,bQ,bR,bS){var bT,bU,bV,bW;function bX(bY){var bZ,b0,b1,b2;if(!(bZ=bW.s,bZ!=null&&bZ.$==0||bZ!=null&&bZ.$==2)){b0=x.ValueAndForever(bQ);b1=x.ValueAndForever(bR);b2=x.ValueAndForever(bS);b0!=null&&b0.$==1?b1!=null&&b1.$==1?b2!=null&&b2.$==1?b0.$0[1]&&b1.$0[1]&&b2.$0[1]?x.MarkForever(bW,bP(b0.$0[0],b1.$0[0],b2.$0[0])):x.MarkReady(bW,bP(b0.$0[0],b1.$0[0],b2.$0[0])):void 0:void 0:void 0;}}bT=bQ.s;bU=bR.s;bV=bS.s;return bT!=null&&bT.$==0?bU!=null&&bU.$==0?bV!=null&&bV.$==0?x.New({$:0,$0:bP(bT.$0,bU.$0,bV.$0)}):x.Map3Opt1(bP,bT.$0,bU.$0,bS):bV!=null&&bV.$==0?x.Map3Opt2(bP,bT.$0,bV.$0,bR):x.Map3Opt3(bP,bT.$0,bR,bS):bU!=null&&bU.$==0?bV!=null&&bV.$==0?x.Map3Opt4(bP,bU.$0,bV.$0,bQ):x.Map3Opt5(bP,bU.$0,bQ,bS):bV!=null&&bV.$==0?x.Map3Opt6(bP,bV.$0,bQ,bR):(bW=x.New({$:3,$0:[],$1:[]}),(x.When(bQ,bX,bW),x.When(bR,bX,bW),x.When(bS,bX,bW),bW));};x.Sequence=function(bP){var bQ,bR,bS;function bT(bU){var bV;if(bS[0]===0){bV=n.map(function(bW){var bX;bX=bW.s;return bX!=null&&bX.$==0?bX.$0:bX!=null&&bX.$==2?bX.$0:f.FailWith("value not found by View.Sequence");},bQ);n.forall(function(bW){var bX;bX=bW.s;return bX!=null&&bX.$==0;},bQ)?x.MarkForever(bR,bV):x.MarkReady(bR,bV);}else bS[0]--;}bQ=n.ofSeq(bP);return bQ.length==0?x.New({$:0,$0:[]}):(bR=x.New({$:3,$0:[],$1:[]}),(bS=[n.length(bQ)-1],(n.iter(function(bU){x.When(bU,bT,bR);},bQ),bR)));};x.Map2=function(bP,bQ,bR){var bS,bT,bU;function bV(bW){var bX,bY,bZ;if(!(bX=bU.s,bX!=null&&bX.$==0||bX!=null&&bX.$==2)){bY=x.ValueAndForever(bQ);bZ=x.ValueAndForever(bR);bY!=null&&bY.$==1?bZ!=null&&bZ.$==1?bY.$0[1]&&bZ.$0[1]?x.MarkForever(bU,bP(bY.$0[0],bZ.$0[0])):x.MarkReady(bU,bP(bY.$0[0],bZ.$0[0])):void 0:void 0;}}bS=bQ.s;bT=bR.s;return bS!=null&&bS.$==0?bT!=null&&bT.$==0?x.New({$:0,$0:bP(bS.$0,bT.$0)}):x.Map2Opt1(bP,bS.$0,bR):bT!=null&&bT.$==0?x.Map2Opt2(bP,bT.$0,bQ):(bU=x.New({$:3,$0:[],$1:[]}),(x.When(bQ,bV,bU),x.When(bR,bV,bU),bU));};x.Map2Unit=function(bP,bQ){var bR,bS,bT;function bU(){var bV,bW,bX;if(!(bV=bT.s,bV!=null&&bV.$==0||bV!=null&&bV.$==2)){bW=x.ValueAndForever(bP);bX=x.ValueAndForever(bQ);bW!=null&&bW.$==1?bX!=null&&bX.$==1?bW.$0[1]&&bX.$0[1]?x.MarkForever(bT,null):x.MarkReady(bT,null):void 0:void 0;}}bR=bP.s;bS=bQ.s;return bR!=null&&bR.$==0?bS!=null&&bS.$==0?x.New({$:0,$0:null}):bQ:bS!=null&&bS.$==0?bP:(bT=x.New({$:3,$0:[],$1:[]}),(x.When(bP,bU,bT),x.When(bQ,bU,bT),bT));};x.Copy=function(bP){var bQ,bR,bS;bQ=bP.s;return bQ==null?bP:bQ!=null&&bQ.$==2?(bR=x.New({$:2,$0:bQ.$0,$1:[]}),(x.WhenObsolete(bP,bR),bR)):bQ!=null&&bQ.$==3?(bS=x.New({$:3,$0:[],$1:[]}),(x.When(bP,function(bT){x.MarkDone(bS,bP,bT);},bS),bS)):bP;};x.WhenObsoleteRun=function(bP,bQ){var bR;bR=bP.s;bR==null?bQ():bR!=null&&bR.$==2?bR.$1.push(bQ):bR!=null&&bR.$==3?bR.$1.push(bQ):void 0;};x.When=function(bP,bQ,bR){var bS;bS=bP.s;bS==null?x.Obsolete(bR):bS!=null&&bS.$==2?(x.EnqueueSafe(bS.$1,bR),bQ(bS.$0)):bS!=null&&bS.$==3?(bS.$0.push(bQ),x.EnqueueSafe(bS.$1,bR)):bQ(bS.$0);};x.MarkDone=function(bP,bQ,bR){var bS;if(bS=bQ.s,bS!=null&&bS.$==0)x.MarkForever(bP,bR);else x.MarkReady(bP,bR);};x.Map3Opt1=function(bP,bQ,bR,bS){return x.Map(function(bT){return bP(bQ,bR,bT);},bS);};x.Map3Opt2=function(bP,bQ,bR,bS){return x.Map(function(bT){return bP(bQ,bT,bR);},bS);};x.Map3Opt3=function(bP,bQ,bR,bS){return x.Map2(function(bT,bU){return bP(bQ,bT,bU);},bR,bS);};x.Map3Opt4=function(bP,bQ,bR,bS){return x.Map(function(bT){return bP(bT,bQ,bR);},bS);};x.Map3Opt5=function(bP,bQ,bR,bS){return x.Map2(function(bT,bU){return bP(bT,bQ,bU);},bR,bS);};x.Map3Opt6=function(bP,bQ,bR,bS){return x.Map2(function(bT,bU){return bP(bT,bU,bQ);},bR,bS);};x.ValueAndForever=function(bP){var bQ;bQ=bP.s;return bQ!=null&&bQ.$==0?{$:1,$0:[bQ.$0,true]}:bQ!=null&&bQ.$==2?{$:1,$0:[bQ.$0,false]}:null;};x.MarkForever=function(bP,bQ){var bR,bS,bT,bU;bR=bP.s;if(bR!=null&&bR.$==3){bP.s={$:0,$0:bQ};bS=bR.$0;for(bT=0,bU=n.length(bS)-1;bT<=bU;bT++)(n.get(bS,bT))(bQ);}else void 0;};x.MarkReady=function(bP,bQ){var bR,bS,bT,bU;bR=bP.s;if(bR!=null&&bR.$==3){bP.s={$:2,$0:bQ,$1:bR.$1};bS=bR.$0;for(bT=0,bU=n.length(bS)-1;bT<=bU;bT++)(n.get(bS,bT))(bQ);}else void 0;};x.Map2Opt1=function(bP,bQ,bR){return x.Map(function(bS){return bP(bQ,bS);},bR);};x.Map2Opt2=function(bP,bQ,bR){return x.Map(function(bS){return bP(bS,bQ);},bR);};x.WhenObsolete=function(bP,bQ){var bR;bR=bP.s;bR==null?x.Obsolete(bQ):bR!=null&&bR.$==2?x.EnqueueSafe(bR.$1,bQ):bR!=null&&bR.$==3?x.EnqueueSafe(bR.$1,bQ):void 0;};x.EnqueueSafe=function(bP,bQ){var bR,bS,bT,bU;bP.push(bQ);if(bP.length%20===0){bR=bP.slice(0);bI.Clear(bP);for(bS=0,bT=n.length(bR)-1;bS<=bT;bS++){bU=n.get(bR,bS);typeof bU=="object"?function(bV){if(bV.s)bP.push(bV);}(bU):function(bV){bP.push(bV);}(bU);}}else void 0;};z.LoadLocalTemplates=function(bP){!z.LocalTemplatesLoaded()?(z.set_LocalTemplatesLoaded(true),z.LoadNestedTemplates(self.document.body,"")):void 0;z.LoadedTemplates().set_Item(bP,z.LoadedTemplateFile(""));};z.LocalTemplatesLoaded=function(){_1.$cctor();return _1.LocalTemplatesLoaded;};z.set_LocalTemplatesLoaded=function(bP){_1.$cctor();_1.LocalTemplatesLoaded=bP;};z.LoadNestedTemplates=function(bP,bQ){var bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5;function bR(b6){var b7,b8;if(!bS.ContainsKey(b6)){b7=(b8=null,[bT.TryGetValue(b6,{get:function(){return b8;},set:function(b9){b8=b9;}}),b8]);b7[0]?(b5.Add(b6),bT.Remove(b6),z.PrepareTemplateStrict(bQ,{$:1,$0:b6},b7[1][0],{$:1,$0:b7[1][1]},{$:1,$0:bR})):bM.warn(b5.Contains(b6)?"Encountered loop when instantiating "+b6:"Local template does not exist: "+b6);}}bS=z.LoadedTemplateFile(bQ);bT=new K.New$5();bU=bP.querySelectorAll("[ws-template]");for(bV=0,bW=bU.length-1;bV<=bW;bV++){bX=bU[bV];bY=bX.getAttribute("ws-template").toLowerCase();bX.removeAttribute("ws-template");bT.set_Item(bY,[[bX],z.FakeRootSingle(bX)]);}bZ=bP.querySelectorAll("[ws-children-template]");for(b0=0,b1=bZ.length-1;b0<=b1;b0++){b2=bZ[b0];b3=b2.getAttribute("ws-children-template").toLowerCase();b2.removeAttribute("ws-children-template");bT.set_Item(b3,(b4=S.ChildrenArray(b2),[b4,z.FakeRoot(b4)]));}b5=new L.New$3();while(bT.count>0)bR(N.head(bT.get_Keys()));};z.LoadedTemplates=function(){_1.$cctor();return _1.LoadedTemplates;};z.LoadedTemplateFile=function(bP){var bQ,bR,bS;bQ=(bR=null,[z.LoadedTemplates().TryGetValue(bP,{get:function(){return bR;},set:function(bT){bR=bT;}}),bR]);return bQ[0]?bQ[1]:(bS=new K.New$5(),(z.LoadedTemplates().set_Item(bP,bS),bS));};z.GetOrLoadTemplate=function(bP,bQ,bR,bS){z.LoadLocalTemplates("");z.PrepareTemplate(bP,bQ,bR);return z.NamedTemplate(bP,bQ,bS);};z.PrepareTemplate=function(bP,bQ,bR){var bS,bT,bU,bV,bW;if(!z.LoadedTemplateFile(bP).ContainsKey(bQ==null?"":bQ.$0)){bS=bR();for(bT=0,bU=bS.length-1;bT<=bU;bT++){bV=n.get(bS,bT);bW=bV.parentNode;F.Equals(bW,null)?void 0:bW.removeChild(bV);}z.PrepareTemplateStrict(bP,bQ,bS,null,null);}};z.FakeRootSingle=function(bP){var bQ,bR,bS;bP.removeAttribute("ws-template");bQ=bP.getAttribute("ws-replace");bQ===null?void 0:(bP.removeAttribute("ws-replace"),bR=bP.parentNode,F.Equals(bR,null)?void 0:(bS=self.document.createElement(bP.tagName),bS.setAttribute("ws-replace",bQ),bR.replaceChild(bS,bP)));return z.FakeRoot([bP]);};z.FakeRoot=function(bP){var bQ,bR,bS;bQ=self.document.createElement("div");for(bR=0,bS=bP.length-1;bR<=bS;bR++)bQ.appendChild(n.get(bP,bR));return bQ;};z.PrepareTemplateStrict=function(bP,bQ,bR,bS,bT){var bU,bV;function bW(b1,b2){var b3,b4,b5,b6,b7,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr;function b8(cs){}while(true)switch(b1){case 0:if(b2!==null){b3=b2.nextSibling;if(F.Equals(b2.nodeType,R.TEXT_NODE))_7.convertTextNode(b2);else if(F.Equals(b2.nodeType,R.ELEMENT_NODE))bY(b2);b2=b3;}else return null;break;case 1:b9=_8.string(b2.nodeName,{$:1,$0:3},null).toLowerCase();b_=(b4=b9.indexOf("."),b4===-1?[bP,b9]:[_8.string(b9,null,{$:1,$0:b4-1}),_8.string(b9,{$:1,$0:b4+1},null)]);b$=b_[1];ca=b_[0];if(ca!==""&&!z.LoadedTemplates().ContainsKey(ca))return _7.failNotLoaded(b$);else{if(ca===""&&bT!=null)bT.$0(b$);cb=z.LoadedTemplates().get_Item(ca);if(!cb.ContainsKey(b$))return _7.failNotLoaded(b$);else{cc=cb.get_Item(b$);cd=cc.cloneNode(true);ce=new L.New$3();cf=new K.New$5();cg=b2.attributes;for(ch=0,ci=cg.length-1;ch<=ci;ch++){cj=cg.item(ch).name.toLowerCase();cf.set_Item(cj,(ck=cg.item(ch).nodeValue,ck===""?cj:ck.toLowerCase()));!ce.Add(cj)?bM.warn("Hole mapped twice",cj):void 0;}for(cl=0,cm=b2.childNodes.length-1;cl<=cm;cl++){cn=b2.childNodes[cl];F.Equals(cn.nodeType,R.ELEMENT_NODE)?!ce.Add(cn.nodeName.toLowerCase())?bM.warn("Hole filled twice",b$):void 0:void 0;}co=b2.childNodes.length===1&&F.Equals(b2.firstChild.nodeType,R.TEXT_NODE);if(co){b6=_7.fillTextHole(cd,b2.firstChild.textContent,b$);((function(cs){return function(ct){if(ct!=null)cs(ct.$0);};}((b7=function(cs){return function(ct){return cs.Add(ct);};}(ce),function(cs){return b8(b7(cs));})))(b6));}_7.removeHolesExcept(cd,ce);if(!co){for(cp=0,cq=b2.childNodes.length-1;cp<=cq;cp++){cr=b2.childNodes[cp];F.Equals(cr.nodeType,R.ELEMENT_NODE)?cr.hasAttributes()?_7.fillInstanceAttrs(cd,cr):bX(cd,cr):void 0;}}_7.mapHoles(cd,cf);_7.fill(cd,b2.parentNode,b2);b2.parentNode.removeChild(b2);return;}}break;}}function bX(b1,b2){var b3,b5,b6;function b4(b7,b8){var b9,b_,b$;if(b5==="title"&&b2.hasChildNodes()){b9=bL.parseHTML(b2.textContent);b2.removeChild(b2.firstChild);for(b_=0,b$=b9.length-1;b_<=b$;b_++)b2.appendChild(n.get(b9,b_));}else null;bY(b2);return _7.fill(b2,b7,b8);}b5=b2.nodeName.toLowerCase();S.IterSelector(b1,"[ws-attr-holes]",function(b7){var b8,b9,b_,b$,ca;b8=be.SplitChars(b7.getAttribute("ws-attr-holes"),[" "],1);for(b9=0,b_=b8.length-1;b9<=b_;b9++){b$=n.get(b8,b9);b7.setAttribute(b$,(ca=new a.RegExp("\\${"+b5+"}","ig"),b7.getAttribute(b$).replace(ca,b2.textContent)));}});b6=b1.querySelector("[ws-hole="+b5+"]");if(F.Equals(b6,null)){b3=b1.querySelector("[ws-replace="+b5+"]");return F.Equals(b3,null)?null:(b4(b3.parentNode,b3),void b3.parentNode.removeChild(b3));}else{while(b6.hasChildNodes())b6.removeChild(b6.lastChild);b6.removeAttribute("ws-hole");return b4(b6,null);}}function bY(b1){if(be.StartsWith(b1.nodeName.toLowerCase(),"ws-"))b0(b1);else{_7.convertAttrs(b1);bZ(b1.firstChild);}}function bZ(b1){return bW(0,b1);}function b0(b1){return bW(1,b1);}bU=bS==null?z.FakeRoot(bR):bS.$0;bV=(bQ==null?"":bQ.$0).toLowerCase();z.LoadedTemplateFile(bP).set_Item(bV,bU);n.length(bR)>0?(function(b1){var b2,b3,b4,b5;while(true){b2=b1.querySelector("[ws-template]");if(F.Equals(b2,null)){b3=b1.querySelector("[ws-children-template]");if(F.Equals(b3,null))return null;else{b4=b3.getAttribute("ws-children-template");b3.removeAttribute("ws-children-template");z.PrepareTemplateStrict(bP,{$:1,$0:b4},S.ChildrenArray(b3),null,null);b1=b1;}}else{b5=b2.getAttribute("ws-template");(z.PrepareSingleTemplate(bP,{$:1,$0:b5},b2))(null);b1=b1;}}}(bU),bZ(n.get(bR,0))):void 0;};z.NamedTemplate=function(bP,bQ,bR){var bS,bT;bS=(bT=null,[z.LoadedTemplateFile(bP).TryGetValue(bQ==null?"":bQ.$0,{get:function(){return bT;},set:function(bU){bT=bU;}}),bT]);return bS[0]?z.ChildrenTemplate(bS[1].cloneNode(true),bR):(bM.warn("Local template doesn't exist",bQ),A.get_Empty());};z.PrepareSingleTemplate=function(bP,bQ,bR){var bS,bT,bU;bS=z.FakeRootSingle(bR);bT=[bR];bU={$:1,$0:bS};return function(bV){z.PrepareTemplateStrict(bP,bQ,bT,bU,bV);};};z.ChildrenTemplate=function(bP,bQ){var bR,bS,bT,bU,bV;bR=z.InlineTemplate(bP,bQ);bS=bR[1];bT=bR[0];bU=bT.Els;return!F.Equals(bU,null)&&bU.length===1&&(n.get(bU,0)instanceof R&&(F.Equals(n.get(bU,0).nodeType,R.ELEMENT_NODE)&&(bV=n.get(bU,0),true)))?bm.TreeNode(bT,bS):A.Mk({$:6,$0:bT},bS);};z.TextHoleRE=function(){_1.$cctor();return _1.TextHoleRE;};z.InlineTemplate=function(bP,bQ){var bR,bS,bT,bU,bX,bY,bZ,b0,b1,b2,b3;function bV(b4,b5){var b6,b7,b8;b6=U.Insert(b4,b5);bY.push(U.Updates(b6));bZ.push([b4,b6]);b7=bK.GetOptional(b6.OnAfterRender);return b7==null?null:(b8=b7.$0,void b0.push(function(){b8(b4);}));}function bW(b4){var b5,b6;b5=(b6=null,[b1.TryGetValue(b4,{get:function(){return b6;},set:function(b7){b6=b7;}}),b6]);return b5[0]?b5[1].$==0?{$:1,$0:b5[1].$1}:b5[1].$==1?{$:1,$0:A.TextNode(b5[1].$1)}:b5[1].$==2?{$:1,$0:A.TextView(b5[1].$1)}:b5[1].$==8?{$:1,$0:A.TextView(b5[1].$1.get_View())}:b5[1].$==9?{$:1,$0:A.TextView(V.Map(a.String,b5[1].$1.get_View()))}:b5[1].$==10?{$:1,$0:A.TextView(V.Map(function(b7){return b7.get_Input();},b5[1].$1.get_View()))}:b5[1].$==11?{$:1,$0:A.TextView(V.Map(a.String,b5[1].$1.get_View()))}:b5[1].$==12?{$:1,$0:A.TextView(V.Map(function(b7){return b7.get_Input();},b5[1].$1.get_View()))}:b5[1].$==13?{$:1,$0:A.TextView(V.Map(a.String,b5[1].$1.get_View()))}:(bM.warn("Content hole filled with attribute data",b4),null):null;}bX=[];bY=[];bZ=[];b0=[];b1=new K.New$5();b2=Z.Get(bQ);try{while(b2.MoveNext()){b3=b2.Current();b1.set_Item(b3.$0,b3);}}finally{if(typeof b2=="object"&&"Dispose"in b2)b2.Dispose();}bR=S.ChildrenArray(bP);S.IterSelector(bP,"[ws-hole]",function(b4){var b5,b6,b7;b7=b4.getAttribute("ws-hole");b4.removeAttribute("ws-hole");while(b4.hasChildNodes())b4.removeChild(b4.lastChild);b5=bW(b7);b5!=null&&b5.$==1?(b6=b5.$0,_4.LinkElement(b4,b6.docNode),bX.push(_.New(U.Empty(b4),b6.docNode,null,b4,P.Int(),null)),bY.push(b6.updates)):void 0;});S.IterSelector(bP,"[ws-replace]",function(b4){var b5,b6,b7,b8,b9,b_;b5=bW(b4.getAttribute("ws-replace"));b5!=null&&b5.$==1?(b6=b5.$0,b7=b4.parentNode,b8=self.document.createTextNode(""),b7.replaceChild(b8,b4),b9=_4.InsertBeforeDelim(b8,b6.docNode),b_=n.tryFindIndex(function(b$){return b4===b$;},bR),b_==null?void 0:n.set(bR,b_.$0,b6.docNode),bX.push(_.New(U.Empty(b7),b6.docNode,{$:1,$0:[b9,b8]},b7,P.Int(),null)),bY.push(b6.updates)):void 0;});S.IterSelector(bP,"[ws-attr]",function(b4){var b5,b6,b7;b5=b4.getAttribute("ws-attr");b4.removeAttribute("ws-attr");b6=(b7=null,[b1.TryGetValue(b5,{get:function(){return b7;},set:function(b8){b7=b8;}}),b7]);b6[0]?b6[1].$==3?bV(b4,b6[1].$1):bM.warn("Attribute hole filled with non-attribute data",b5):void 0;});S.IterSelector(bP,"[ws-on]",function(b4){bV(b4,p.Concat(n.choose(function(b5){var b6,b7,b8;b6=be.SplitChars(b5,[":"],1);b7=(b8=null,[b1.TryGetValue(n.get(b6,1),{get:function(){return b8;},set:function(b9){b8=b9;}}),b8]);return b7[0]?b7[1].$==4?{$:1,$0:J.Handler(n.get(b6,0),b7[1].$1)}:b7[1].$==5?{$:1,$0:p.Handler(n.get(b6,0),b7[1].$2)}:(bM.warn("Event hole on"+n.get(b6,0)+" filled with non-event data",n.get(b6,1)),null):null;},be.SplitChars(b4.getAttribute("ws-on"),[" "],1))));b4.removeAttribute("ws-on");});S.IterSelector(bP,"[ws-onafterrender]",function(b4){var b5,b6,b7;b5=b4.getAttribute("ws-onafterrender");b6=(b7=null,[b1.TryGetValue(b5,{get:function(){return b7;},set:function(b8){b7=b8;}}),b7]);b6[0]?b6[1].$==6?(b4.removeAttribute("ws-onafterrender"),bV(b4,J.OnAfterRender(b6[1].$1))):b6[1].$==7?(b4.removeAttribute("ws-onafterrender"),bV(b4,J.OnAfterRender(b6[1].$1))):bM.warn("onafterrender hole filled with non-onafterrender data",b5):void 0;});S.IterSelector(bP,"[ws-var]",function(b4){var b5,b6,b7;b5=b4.getAttribute("ws-var");b4.removeAttribute("ws-var");b6=(b7=null,[b1.TryGetValue(b5,{get:function(){return b7;},set:function(b8){b7=b8;}}),b7]);b6[0]?b6[1].$==8?bV(b4,J.Value(b6[1].$1)):b6[1].$==9?bV(b4,J.Checked(b6[1].$1)):b6[1].$==10?bV(b4,J.IntValue(b6[1].$1)):b6[1].$==11?bV(b4,J.IntValueUnchecked(b6[1].$1)):b6[1].$==12?bV(b4,J.FloatValue(b6[1].$1)):b6[1].$==13?bV(b4,J.FloatValueUnchecked(b6[1].$1)):bM.warn("Var hole filled with non-Var data",b5):void 0;});S.IterSelector(bP,"[ws-attr-holes]",function(b4){var b5,b6,b7,b8;b5=new a.RegExp(z.TextHoleRE(),"g");b6=be.SplitChars(b4.getAttribute("ws-attr-holes"),[" "],1);b4.removeAttribute("ws-attr-holes");for(b7=0,b8=b6.length-1;b7<=b8;b7++)(function(){var b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj;cg=n.get(b6,b7);ch=b4.getAttribute(cg);b9=null;b_=0;ci=[];while(b9=b5.exec(ch),b9!==null){cj=_8.string(ch,{$:1,$0:b_},{$:1,$0:b5.lastIndex-n.get(b9,0).length-1});b_=b5.lastIndex;ci.push([cj,n.get(b9,1)]);}ca=_8.string(ch,{$:1,$0:b_},null);b5.lastIndex=0;cb=n.foldBack(function(ck,cl){return(function(cm){var cn,co;cn=cm[0];co=cm[1];return function(cp){var cq,cr,cs,ct,cu;cq=cp[0];cr=cp[1];cs=(ct=(cu=null,[b1.TryGetValue(co,{get:function(){return cu;},set:function(cv){cu=cv;}}),cu]),ct[0]?ct[1].$==1?{$:0,$0:ct[1].$1}:ct[1].$==2?{$:1,$0:ct[1].$1}:ct[1].$==8?{$:1,$0:ct[1].$1.get_View()}:ct[1].$==9?{$:1,$0:V.Map(a.String,ct[1].$1.get_View())}:ct[1].$==10?{$:1,$0:V.Map(function(cv){return cv.get_Input();},ct[1].$1.get_View())}:ct[1].$==11?{$:1,$0:V.Map(a.String,ct[1].$1.get_View())}:ct[1].$==12?{$:1,$0:V.Map(function(cv){return cv.get_Input();},ct[1].$1.get_View())}:ct[1].$==13?{$:1,$0:V.Map(a.String,ct[1].$1.get_View())}:(bM.warn("Attribute value hole filled with non-text data",co),{$:0,$0:""}):{$:0,$0:""});return cs.$==1?[cn,new I({$:1,$0:cq===""?cs.$0:V.Map(function(cv){return cv+cq;},cs.$0),$1:cr})]:[cn+cs.$0+cq,cr];};}(ck))(cl);},ci,[ca,I.Empty]);return bV(b4,cb[1].$==1?cb[1].$1.$==1?cb[1].$1.$1.$==1?cb[1].$1.$1.$1.$==0?(cc=cb[0],J.Dynamic(cg,V.Map3(function(ck,cl,cm){return cc+ck+cl+cm;},cb[1].$0,cb[1].$1.$0,cb[1].$1.$1.$0))):(cd=cb[0],J.Dynamic(cg,V.Map(function(ck){return cd+be.concat("",ck);},V.Sequence(cb[1])))):(ce=cb[0],J.Dynamic(cg,V.Map2(function(ck,cl){return ce+ck+cl;},cb[1].$0,cb[1].$1.$0))):cb[0]===""?J.Dynamic(cg,cb[1].$0):(cf=cb[0],J.Dynamic(cg,V.Map(function(ck){return cf+ck;},cb[1].$0))):p.Create(cg,cb[0]));}());});return[bK.DeleteEmptyFields({Els:bR,Dirty:true,Holes:bX,Attrs:bZ,Render:(bS=b0.length==0?null:{$:1,$0:function(b4){n.iter(function(b5){b5(b4);},b0);}},bS?bS.$0:void 0),El:(bT=!F.Equals(bR,null)&&bR.length===1&&(n.get(bR,0)instanceof R&&(n.get(bR,0)instanceof a.Element&&(bU=n.get(bR,0),true)))?{$:1,$0:bU}:null,bT?bT.$0:void 0)},["Render","El"]),E.TreeReduce(V.Const(),V.Map2Unit,bY)];};A=h.Doc=bK.Class({},g,A);A.RunById=function(bP,bQ){var bR;bR=S.Doc().getElementById(bP);F.Equals(bR,null)?f.FailWith("invalid id: "+bP):A.Run(bR,bQ);};A.Run=function(bP,bQ){_4.LinkElement(bP,bQ.docNode);A.RunInPlace(false,bP,bQ);};A.RunInPlace=function(bP,bQ,bR){var bS;bS=_4.CreateRunState(bQ,bR.docNode);V.Sink(ba.get_UseAnimations()||bb.BatchUpdatesEnabled()?bc.StartProcessor(_4.PerformAnimatedUpdate(bP,bS,bR.docNode)):function(){_4.PerformSyncUpdate(bP,bS,bR.docNode);},bR.updates);};A.get_Empty=function(){return A.Mk(null,V.Const());};A.Mk=function(bP,bQ){return new A.New(bP,bQ);};A.TextNode=function(bP){return A.Mk({$:5,$0:S.CreateText(bP)},V.Const());};A.TextView=function(bP){var bQ;bQ=_4.CreateTextNode();return A.Mk({$:4,$0:bQ},V.Map(function(bR){_4.UpdateTextNode(bQ,bR);},bP));};A.New=bK.Ctor(function(bP,bQ){g.New.call(this);this.docNode=bP;this.updates=bQ;},A);B.NewFromSeq=function(bP){var bQ,bR,bS;bQ={};bR=Z.Get(bP);try{while(bR.MoveNext()){bS=bR.Current();bQ[bS[0]]=bS[1];}}finally{if(typeof bR=="object"&&"Dispose"in bR)bR.Dispose();}return bQ;};D=C.List=bK.Class({GetEnumerator:function(){return Z.Get(this);},GetEnumerator0:function(){return Z.Get0(this);}},null,D);E.ofSeqNonCopying=function(bP){var bQ,bR;if(bP instanceof a.Array)return bP;else if(bP instanceof I)return n.ofList(bP);else if(bP===null)return[];else{bQ=[];bR=Z.Get(bP);try{while(bR.MoveNext())bQ.push(bR.Current());return bQ;}finally{if(typeof bR=="object"&&"Dispose"in bR)bR.Dispose();}}};E.TreeReduce=function(bP,bQ,bR){var bS;function bT(bU,bV){var bW,bX;return bV<=0?bP:bV===1&&(bU>=0&&bU<bS)?n.get(bR,bU):(bX=bV/2>>0,bQ(bT(bU,bX),bT(bU+bX,bV-bX)));}bS=n.length(bR);return bT(0,bS);};E.MapTreeReduce=function(bP,bQ,bR,bS){var bT;function bU(bV,bW){var bX,bY;return bW<=0?bQ:bW===1&&(bV>=0&&bV<bT)?bP(n.get(bS,bV)):(bY=bW/2>>0,bR(bU(bV,bY),bU(bV+bY,bW-bY)));}bT=n.length(bS);return bU(0,bT);};F.Equals=function(bP,bQ){var bR,bS,bT,bU;if(bP===bQ)return true;else{bR=typeof bP;if(bR=="object"){if(bP===null||bP===void 0||bQ===null||bQ===void 0)return false;else if("Equals"in bP)return bP.Equals(bQ);else if(bP instanceof a.Array&&bQ instanceof a.Array)return F.arrayEquals(bP,bQ);else if(bP instanceof a.Date&&bQ instanceof a.Date)return F.dateEquals(bP,bQ);else{bS=[true];for(var bV in bP)if(function(bW){bS[0]=!bP.hasOwnProperty(bW)||bQ.hasOwnProperty(bW)&&F.Equals(bP[bW],bQ[bW]);return!bS[0];}(bV))break;if(bS[0]){for(var bW in bQ)if(function(bX){bS[0]=!bQ.hasOwnProperty(bX)||bP.hasOwnProperty(bX);return!bS[0];}(bW))break;}return bS[0];}}else return bR=="function"&&("$Func"in bP?bP.$Func===bQ.$Func&&bP.$Target===bQ.$Target:"$Invokes"in bP&&"$Invokes"in bQ&&F.arrayEquals(bP.$Invokes,bQ.$Invokes));}};F.arrayEquals=function(bP,bQ){var bR,bS;if(n.length(bP)===n.length(bQ)){bR=true;bS=0;while(bR&&bS<n.length(bP)){!F.Equals(n.get(bP,bS),n.get(bQ,bS))?bR=false:void 0;bS=bS+1;}return bR;}else return false;};F.dateEquals=function(bP,bQ){return bP.getTime()===bQ.getTime();};F.Hash=function(bP){var bQ;bQ=typeof bP;return bQ=="function"?0:bQ=="boolean"?bP?1:0:bQ=="number"?bP:bQ=="string"?F.hashString(bP):bQ=="object"?bP==null?0:bP instanceof a.Array?F.hashArray(bP):F.hashObject(bP):0;};F.hashString=function(bP){var bQ,bR,bS;if(bP===null)return 0;else{bQ=5381;for(bR=0,bS=bP.length-1;bR<=bS;bR++)bQ=F.hashMix(bQ,bP[bR].charCodeAt());return bQ;}};F.hashArray=function(bP){var bQ,bR,bS;bQ=-34948909;for(bR=0,bS=n.length(bP)-1;bR<=bS;bR++)bQ=F.hashMix(bQ,F.Hash(n.get(bP,bR)));return bQ;};F.hashObject=function(bP){var bQ,bR;if("GetHashCode"in bP)return bP.GetHashCode();else{bQ=[0];for(var bS in bP)if(function(bT){bQ[0]=F.hashMix(F.hashMix(bQ[0],F.hashString(bT)),F.Hash(bP[bT]));return false;}(bS))break;return bQ[0];}};F.hashMix=function(bP,bQ){return(bP<<5)+bP+bQ;};F.Compare=function(bP,bQ){var bR,bS,bT,bU,bV,bW;if(bP===bQ)return 0;else{bS=typeof bP;switch(bS=="function"?1:bS=="boolean"?2:bS=="number"?2:bS=="string"?2:bS=="object"?3:0){case 0:return typeof bQ=="undefined"?0:-1;case 1:return f.FailWith("Cannot compare function values.");case 2:return bP<bQ?-1:1;case 3:if(bP===null)bT=-1;else if(bQ===null)bT=1;else if("CompareTo"in bP)bT=bP.CompareTo(bQ);else if("CompareTo0"in bP)bT=bP.CompareTo0(bQ);else if(bP instanceof a.Array&&bQ instanceof a.Array)bT=F.compareArrays(bP,bQ);else if(bP instanceof a.Date&&bQ instanceof a.Date)bT=F.compareDates(bP,bQ);else{bU=[0];for(var bX in bP)if(function(bY){return!bP.hasOwnProperty(bY)?false:!bQ.hasOwnProperty(bY)?(bU[0]=1,true):(bU[0]=F.Compare(bP[bY],bQ[bY]),bU[0]!==0);}(bX))break;if(bU[0]===0){for(var bY in bQ)if(function(bZ){return!bQ.hasOwnProperty(bZ)?false:!bP.hasOwnProperty(bZ)&&(bU[0]=-1,true);}(bY))break;}bT=bU[0];}return bT;}}};F.compareArrays=function(bP,bQ){var bR,bS;if(n.length(bP)<n.length(bQ))return -1;else if(n.length(bP)>n.length(bQ))return 1;else{bR=0;bS=0;while(bR===0&&bS<n.length(bP)){bR=F.Compare(n.get(bP,bS),n.get(bQ,bS));bS=bS+1;}return bR;}};F.compareDates=function(bP,bQ){return F.Compare(bP.getTime(),bQ.getTime());};H.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(bP){var bQ,bR;bQ=bN.random()*16|0;bR=bP=="x"?bQ:bQ&3|8;return bR.toString(16);});};I=q.T=bK.Class({GetEnumerator:function(){return new _0.New(this,null,function(bP){var bQ;bQ=bP.s;return bQ.$==0?false:(bP.c=bQ.$0,bP.s=bQ.$1,true);},void 0);},GetEnumerator0:function(){return Z.Get(this);}},null,I);I.Empty=new I({$:0});J.Handler=function(bP,bQ){return U.Static(function(bR){bR.addEventListener(bP,function(bS){return(bQ(bR))(bS);},false);});};J.OnAfterRender=function(bP){return new p({$:4,$0:bP});};J.Value=function(bP){function bQ(bR){return{$:1,$0:bR};}return J.CustomValue(bP,a.id,function(bR){return bQ(a.id(bR));});};J.Checked=function(bP){function bQ(bR,bS){return!F.Equals(bP.Get(),bR.checked)?bP.Set(bR.checked):null;}return p.Concat([J.DynamicProp("checked",bP.get_View()),J.Handler("change",function(bR){return function(bS){return bQ(bR,bS);};})]);};J.IntValue=function(bP){return J.CustomVar(bP,function(bQ,bR){var bS;bS=bR.get_Input();return bQ.value!==bS?void(bQ.value=bS):null;},function(bQ){var bR,bS,bT;bR=bQ.value;return{$:1,$0:bw.isBlank(bR)?(bQ.checkValidity?bQ.checkValidity():true)?new W({$:2,$0:bR}):new W({$:1,$0:bR}):(bS=(bT=0,[X.TryParseInt32(bR,{get:function(){return bT;},set:function(bU){bT=bU;}}),bT]),bS[0]?new W({$:0,$0:bS[1],$1:bR}):new W({$:1,$0:bR}))};});};J.IntValueUnchecked=function(bP){return J.CustomValue(bP,a.String,function(bQ){var bR;return bw.isBlank(bQ)?{$:1,$0:0}:(bR=+bQ,bR!==bR>>0?null:{$:1,$0:bR});});};J.FloatValue=function(bP){return J.CustomVar(bP,function(bQ,bR){var bS;bS=bR.get_Input();return bQ.value!==bS?void(bQ.value=bS):null;},function(bQ){var bR,bS;bR=bQ.value;return{$:1,$0:bw.isBlank(bR)?(bQ.checkValidity?bQ.checkValidity():true)?new W({$:2,$0:bR}):new W({$:1,$0:bR}):(bS=+bR,a.isNaN(bS)?new W({$:1,$0:bR}):new W({$:0,$0:bS,$1:bR}))};});};J.FloatValueUnchecked=function(bP){return J.CustomValue(bP,a.String,function(bQ){var bR;return bw.isBlank(bQ)?{$:1,$0:0}:(bR=+bQ,a.isNaN(bR)?null:{$:1,$0:bR});});};J.Dynamic=function(bP,bQ){return U.Dynamic(bQ,function(bR){return function(bS){return S.SetAttr(bR,bP,bS);};});};J.CustomValue=function(bP,bQ,bR){return J.CustomVar(bP,function(bS,bT){bS.value=bQ(bT);},function(bS){return bR(bS.value);});};J.DynamicProp=function(bP,bQ){return U.Dynamic(bQ,function(bR){return function(bS){bR[bP]=bS;};});};J.CustomVar=function(bP,bQ,bR){function bS(bU,bV){return bP.UpdateMaybe(function(bW){var bX,bY;bX=bR(bU);return bX!=null&&bX.$==1&&(!F.Equals(bX.$0,bW)&&(bY=[bX,bX.$0],true))?bY[0]:null;});}function bT(bU,bV){var bW,bX;bW=bR(bU);return bW!=null&&bW.$==1&&(F.Equals(bW.$0,bV)&&(bX=bW.$0,true))?null:bQ(bU,bV);}return p.Concat([J.Handler("change",function(bU){return function(bV){return bS(bU,bV);};}),J.Handler("input",function(bU){return function(bV){return bS(bU,bV);};}),J.Handler("keypress",function(bU){return function(bV){return bS(bU,bV);};}),J.DynamicCustom(function(bU){return function(bV){return bT(bU,bV);};},bP.get_View())]);};J.DynamicCustom=function(bP,bQ){return U.Dynamic(bQ,bP);};K=C.Dictionary=bK.Class({set_Item:function(bP,bQ){this.set(bP,bQ);},set:function(bP,bQ){var bR,bS,bT,bU;bR=this;bS=this.hash(bP);bT=this.data[bS];bT==null?(this.count=this.count+1,this.data[bS]=new a.Array({K:bP,V:bQ})):(bU=n.tryFindIndex(function(bV){return bR.equals.apply(null,[(f.KeyValue(bV))[0],bP]);},bT),bU==null?(this.count=this.count+1,bT.push({K:bP,V:bQ})):bT[bU.$0]={K:bP,V:bQ});},ContainsKey:function(bP){var bQ,bR;bQ=this;bR=this.data[this.hash(bP)];return bR==null?false:n.exists(function(bS){return bQ.equals.apply(null,[(f.KeyValue(bS))[0],bP]);},bR);},TryGetValue:function(bP,bQ){var bR,bS,bT;bR=this;bS=this.data[this.hash(bP)];return bS==null?false:(bT=n.tryPick(function(bU){var bV;bV=f.KeyValue(bU);return bR.equals.apply(null,[bV[0],bP])?{$:1,$0:bV[1]}:null;},bS),bT!=null&&bT.$==1&&(bQ.set(bT.$0),true));},Remove:function(bP){return this.remove(bP);},get_Keys:function(){return new _9.New(this);},remove:function(bP){var bQ,bR,bS,bT;bQ=this;bR=this.hash(bP);bS=this.data[bR];return bS==null?false:(bT=n.filter(function(bU){return!bQ.equals.apply(null,[(f.KeyValue(bU))[0],bP]);},bS),n.length(bT)<bS.length&&(this.count=this.count-1,this.data[bR]=bT,true));},get_Item:function(bP){return this.get(bP);},get:function(bP){var bQ,bR;bQ=this;bR=this.data[this.hash(bP)];return bR==null?Y.notPresent():n.pick(function(bS){var bT;bT=f.KeyValue(bS);return bQ.equals.apply(null,[bT[0],bP])?{$:1,$0:bT[1]}:null;},bR);},GetEnumerator:function(){return Z.Get0(this);},GetEnumerator0:function(){return Z.Get0(n.concat(t.GetFieldValues(this.data)));}},g,K);K.New$5=bK.Ctor(function(){K.New$6.call(this,[],F.Equals,F.Hash);},K);K.New$6=bK.Ctor(function(bP,bQ,bR){var bS,bT;g.New.call(this);this.equals=bQ;this.hash=bR;this.count=0;this.data=[];bS=Z.Get(bP);try{while(bS.MoveNext()){bT=bS.Current();this.set(bT.K,bT.V);}}finally{if(typeof bS=="object"&&"Dispose"in bS)bS.Dispose();}},K);L=C.HashSet=bK.Class({Add:function(bP){return this.add(bP);},Contains:function(bP){var bQ;bQ=this.data[this.hash(bP)];return bQ==null?false:this.arrContains(bP,bQ);},add:function(bP){var bQ,bR;bQ=this.hash(bP);bR=this.data[bQ];return bR==null?(this.data[bQ]=[bP],this.count=this.count+1,true):this.arrContains(bP,bR)?false:(bR.push(bP),this.count=this.count+1,true);},arrContains:function(bP,bQ){var bR,bS,bT,bU;bR=true;bS=0;bU=bQ.length;while(bR&&bS<bU)if(this.equals.apply(null,[bQ[bS],bP]))bR=false;else bS=bS+1;return!bR;},ExceptWith:function(bP){var bQ;bQ=Z.Get(bP);try{while(bQ.MoveNext())this.Remove(bQ.Current());}finally{if(typeof bQ=="object"&&"Dispose"in bQ)bQ.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(bP){var bQ,bR,bS,bT;bQ=0;bR=bd.concat(this.data);for(bS=0,bT=bR.length-1;bS<=bT;bS++)n.set(bP,bS,bR[bS]);},IntersectWith:function(bP){var bQ,bR,bS,bT,bU;bQ=new L.New$4(bP,this.equals,this.hash);bR=bd.concat(this.data);for(bS=0,bT=bR.length-1;bS<=bT;bS++){bU=bR[bS];!bQ.Contains(bU)?this.Remove(bU):void 0;}},Remove:function(bP){var bQ;bQ=this.data[this.hash(bP)];return bQ==null?false:this.arrRemove(bP,bQ)&&(this.count=this.count-1,true);},arrRemove:function(bP,bQ){var bR,bS,bT,bU;bR=true;bS=0;bU=bQ.length;while(bR&&bS<bU)if(this.equals.apply(null,[bQ[bS],bP])){bQ.splice.apply(bQ,[bS,1]);bR=false;}else bS=bS+1;return!bR;},GetEnumerator:function(){return Z.Get(bd.concat(this.data));},GetEnumerator0:function(){return Z.Get(bd.concat(this.data));}},g,L);L.New$3=bK.Ctor(function(){L.New$4.call(this,[],F.Equals,F.Hash);},L);L.New$4=bK.Ctor(function(bP,bQ,bR){var bS;g.New.call(this);this.equals=bQ;this.hash=bR;this.data=[];this.count=0;bS=Z.Get(bP);try{while(bS.MoveNext())this.add(bS.Current());}finally{if(typeof bS=="object"&&"Dispose"in bS)bS.Dispose();}},L);L.New$2=bK.Ctor(function(bP){L.New$4.call(this,bP,F.Equals,F.Hash);},L);M.Box=a.id;N.append=function(bP,bQ){return{GetEnumerator:function(){var bR,bS;bR=Z.Get(bP);bS=[true];return new _0.New(bR,null,function(bT){var bU;return bT.s.MoveNext()?(bT.c=bT.s.Current(),true):(bU=bT.s,!F.Equals(bU,null)?bU.Dispose():void 0,bT.s=null,bS[0]&&(bS[0]=false,bT.s=Z.Get(bQ),bT.s.MoveNext()?(bT.c=bT.s.Current(),true):(bT.s.Dispose(),bT.s=null,false)));},function(bT){var bU;bU=bT.s;!F.Equals(bU,null)?bU.Dispose():void 0;});}};};N.head=function(bP){var bQ;bQ=Z.Get(bP);try{return bQ.MoveNext()?bQ.Current():N.insufficient();}finally{if(typeof bQ=="object"&&"Dispose"in bQ)bQ.Dispose();}};N.fold=function(bP,bQ,bR){var bS,bT;bS=bQ;bT=Z.Get(bR);try{while(bT.MoveNext())bS=bP(bS,bT.Current());return bS;}finally{if(typeof bT=="object"&&"Dispose"in bT)bT.Dispose();}};N.iter=function(bP,bQ){var bR;bR=Z.Get(bQ);try{while(bR.MoveNext())bP(bR.Current());}finally{if(typeof bR=="object"&&"Dispose"in bR)bR.Dispose();}};N.map=function(bP,bQ){return{GetEnumerator:function(){var bR;bR=Z.Get(bQ);return new _0.New(null,null,function(bS){return bR.MoveNext()&&(bS.c=bP(bR.Current()),true);},function(){bR.Dispose();});}};};N.max=function(bP){var bQ,bR,bS;bQ=Z.Get(bP);try{if(!bQ.MoveNext())N.seqEmpty();bR=bQ.Current();while(bQ.MoveNext()){bS=bQ.Current();F.Compare(bS,bR)===1?bR=bS:void 0;}return bR;}finally{if(typeof bQ=="object"&&"Dispose"in bQ)bQ.Dispose();}};N.seqEmpty=function(){return f.FailWith("The input sequence was empty.");};N.forall=function(bP,bQ){return!N.exists(function(bR){return!bP(bR);},bQ);};N.exists=function(bP,bQ){var bR,bS;bR=Z.Get(bQ);try{bS=false;while(!bS&&bR.MoveNext())bS=bP(bR.Current());return bS;}finally{if(typeof bR=="object"&&"Dispose"in bR)bR.Dispose();}};n.choose=function(bP,bQ){var bR,bS,bT,bU;bR=[];for(bS=0,bT=bQ.length-1;bS<=bT;bS++){bU=bP(bQ[bS]);bU==null?void 0:bR.push(bU.$0);}return bR;};n.ofList=function(bP){var bQ,bR;bR=[];bQ=bP;while(!(bQ.$==0)){bR.push(q.head(bQ));bQ=q.tail(bQ);}return bR;};n.tryFindIndex=function(bP,bQ){var bR,bS;bR=null;bS=0;while(bS<bQ.length&&bR==null){bP(bQ[bS])?bR={$:1,$0:bS}:void 0;bS=bS+1;}return bR;};n.exists=function(bP,bQ){var bR,bS,bT,bU;bR=false;bS=0;bU=n.length(bQ);while(!bR&&bS<bU)if(bP(bQ[bS]))bR=true;else bS=bS+1;return bR;};n.tryPick=function(bP,bQ){var bR,bS,bT;bR=null;bS=0;while(bS<bQ.length&&bR==null){bT=bP(bQ[bS]);bT!=null&&bT.$==1?bR=bT:void 0;bS=bS+1;}return bR;};n.concat=function(bP){return a.Array.prototype.concat.apply([],n.ofSeq(bP));};n.filter=function(bP,bQ){var bR,bS,bT;bR=[];for(bS=0,bT=bQ.length-1;bS<=bT;bS++)if(bP(bQ[bS]))bR.push(bQ[bS]);return bR;};n.map=function(bP,bQ){var bR,bS,bT;bR=new a.Array(bQ.length);for(bS=0,bT=bQ.length-1;bS<=bT;bS++)bR[bS]=bP(bQ[bS]);return bR;};n.iter=function(bP,bQ){var bR,bS;for(bR=0,bS=bQ.length-1;bR<=bS;bR++)bP(bQ[bR]);};n.foldBack=function(bP,bQ,bR){var bS,bT,bU,bV,bW;bS=bR;bU=bQ.length;for(bV=1,bW=bU;bV<=bW;bV++)bS=bP(bQ[bU-bV],bS);return bS;};n.ofSeq=function(bP){var bQ,bR;if(bP instanceof a.Array)return bP.slice();else if(bP instanceof I)return n.ofList(bP);else{bQ=[];bR=Z.Get(bP);try{while(bR.MoveNext())bQ.push(bR.Current());return bQ;}finally{if(typeof bR=="object"&&"Dispose"in bR)bR.Dispose();}}};n.pick=function(bP,bQ){var bR;bR=n.tryPick(bP,bQ);return bR==null?f.FailWith("KeyNotFoundException"):bR.$0;};n.create=function(bP,bQ){var bR,bS,bT;bR=new a.Array(bP);for(bS=0,bT=bP-1;bS<=bT;bS++)bR[bS]=bQ;return bR;};n.forall=function(bP,bQ){var bR,bS,bT,bU;bR=true;bS=0;bU=n.length(bQ);while(bR&&bS<bU)if(bP(bQ[bS]))bS=bS+1;else bR=false;return bR;};n.init=function(bP,bQ){var bR,bS,bT;bP<0?f.FailWith("Negative size given."):null;bR=new a.Array(bP);for(bS=0,bT=bP-1;bS<=bT;bS++)bR[bS]=bQ(bS);return bR;};P.Int=function(){P.set_counter(P.counter()+1);return P.counter();};P.set_counter=function(bP){_6.$cctor();_6.counter=bP;};P.counter=function(){_6.$cctor();return _6.counter;};S.Doc=function(){_3.$cctor();return _3.Doc;};S.ChildrenArray=function(bP){var bQ,bR,bS;bQ=[];for(bR=0,bS=bP.childNodes.length-1;bR<=bS;bR++)bQ.push(bP.childNodes[bR]);return bQ;};S.IterSelector=function(bP,bQ,bR){var bS,bT,bU;bS=bP.querySelectorAll(bQ);for(bT=0,bU=bS.length-1;bT<=bU;bT++)bR(bS[bT]);};S.InsertAt=function(bP,bQ,bR){var bS;if(!(bR.parentNode===bP&&bQ===(bS=bR.nextSibling,F.Equals(bS,null)?null:bS)))bP.insertBefore(bR,bQ);};S.CreateText=function(bP){return S.Doc().createTextNode(bP);};S.SetAttr=function(bP,bQ,bR){bP.setAttribute(bQ,bR);};S.RemoveNode=function(bP,bQ){if(bQ.parentNode===bP)bP.removeChild(bQ);};U.AppendTree=function(bP,bQ){var bR;return bP===null?bQ:bQ===null?bP:(bR=new p({$:2,$0:bP,$1:bQ}),(U.SetFlags(bR,U.Flags(bP)|U.Flags(bQ)),bR));};U.EmptyAttr=function(){_5.$cctor();return _5.EmptyAttr;};U.Static=function(bP){return new p({$:3,$0:bP});};U.SetFlags=function(bP,bQ){bP.flags=bQ;};U.Flags=function(bP){return bP!==null&&bP.hasOwnProperty("flags")?bP.flags:0;};U.Insert=function(bP,bQ){var bR,bS,bT;function bU(bV){if(!(bV===null))if(bV!=null&&bV.$==1)bR.push(bV.$0);else if(bV!=null&&bV.$==2){bU(bV.$0);bU(bV.$1);}else if(bV!=null&&bV.$==3)bV.$0(bP);else if(bV!=null&&bV.$==4)bS.push(bV.$0);}bR=[];bS=[];bU(bQ);bT=bR.slice(0);return bg.New(bP,U.Flags(bQ),bT,bS.length===0?null:{$:1,$0:function(bV){N.iter(function(bW){bW(bV);},bS);}});};U.HasExitAnim=function(bP){var bQ;bQ=2;return(bP.DynFlags&bQ)===bQ;};U.GetExitAnim=function(bP){return U.GetAnim(bP,function(bQ,bR){return bQ.NGetExitAnim(bR);});};U.HasEnterAnim=function(bP){var bQ;bQ=1;return(bP.DynFlags&bQ)===bQ;};U.GetEnterAnim=function(bP){return U.GetAnim(bP,function(bQ,bR){return bQ.NGetEnterAnim(bR);});};U.HasChangeAnim=function(bP){var bQ;bQ=4;return(bP.DynFlags&bQ)===bQ;};U.GetChangeAnim=function(bP){return U.GetAnim(bP,function(bQ,bR){return bQ.NGetChangeAnim(bR);});};U.Updates=function(bP){return E.MapTreeReduce(function(bQ){return bQ.NChanged();},V.Const(),V.Map2Unit,bP.DynNodes);};U.Empty=function(bP){return bg.New(bP,0,[],null);};U.GetAnim=function(bP,bQ){return ba.Concat(n.map(function(bR){return bQ(bR,bP.DynElem);},bP.DynNodes));};U.Sync=function(bP,bQ){n.iter(function(bR){bR.NSync(bP);},bQ.DynNodes);};U.Dynamic=function(bP,bQ){return new p({$:1,$0:new bB.New(bP,bQ)});};V=h.View=bK.Class({},null,V);W=h.CheckedInput=bK.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,W);X.TryParseInt32=function(bP,bQ){return X.TryParse(bP,-2147483648,2147483647,bQ);};Y.notPresent=function(){return f.FailWith("The given key was not present in the dictionary.");};Z.Get=function(bP){return bP instanceof a.Array?Z.ArrayEnumerator(bP):F.Equals(typeof bP,"string")?Z.StringEnumerator(bP):bP.GetEnumerator();};Z.ArrayEnumerator=function(bP){return new _0.New(0,null,function(bQ){var bR;bR=bQ.s;return bR<n.length(bP)&&(bQ.c=n.get(bP,bR),bQ.s=bR+1,true);},void 0);};Z.StringEnumerator=function(bP){return new _0.New(0,null,function(bQ){var bR;bR=bQ.s;return bR<bP.length&&(bQ.c=bP[bR],bQ.s=bR+1,true);},void 0);};Z.Get0=function(bP){return bP instanceof a.Array?Z.ArrayEnumerator(bP):F.Equals(typeof bP,"string")?Z.StringEnumerator(bP):"GetEnumerator0"in bP?bP.GetEnumerator0():bP.GetEnumerator();};_0=Z.T=bK.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},g,_0);_0.New=bK.Ctor(function(bP,bQ,bR,bS){g.New.call(this);this.s=bP;this.c=bQ;this.n=bR;this.d=bS;},_0);x.Obsolete=function(bP){var bQ,bR,bS,bT,bU;bR=bP.s;if(bR==null||(bR!=null&&bR.$==2?(bQ=bR.$1,false):bR!=null&&bR.$==3?(bQ=bR.$1,false):true))void 0;else{bP.s=null;for(bS=0,bT=n.length(bQ)-1;bS<=bT;bS++){bU=n.get(bQ,bS);typeof bU=="object"?function(bV){x.Obsolete(bV);}(bU):bU();}}};x.New=function(bP){return{s:bP};};_1.$cctor=function(){_1.$cctor=a.ignore;_1.LoadedTemplates=new K.New$5();_1.LocalTemplatesLoaded=false;_1.TextHoleRE="\\${([^}]+)}";};_3.$cctor=function(){_3.$cctor=a.ignore;_3.Doc=self.document;};_4.LinkElement=function(bP,bQ){_4.InsertDoc(bP,bQ,null);};_4.InsertDoc=function(bP,bQ,bR){var bS;return bQ!=null&&bQ.$==1?_4.InsertNode(bP,bQ.$0.El,bR):bQ!=null&&bQ.$==2?(bS=bQ.$0,(bS.Dirty=false,_4.InsertDoc(bP,bS.Current,bR))):bQ==null?bR:bQ!=null&&bQ.$==4?_4.InsertNode(bP,bQ.$0.Text,bR):bQ!=null&&bQ.$==5?_4.InsertNode(bP,bQ.$0,bR):bQ!=null&&bQ.$==6?n.foldBack(function(bT,bU){return bT==null||bT.constructor===T?_4.InsertDoc(bP,bT,bU):_4.InsertNode(bP,bT,bU);},bQ.$0.Els,bR):_4.InsertDoc(bP,bQ.$0,_4.InsertDoc(bP,bQ.$1,bR));};_4.CreateRunState=function(bP,bQ){return bi.New(bj.get_Empty(),_4.CreateElemNode(bP,U.EmptyAttr(),bQ));};_4.PerformAnimatedUpdate=function(bP,bQ,bR){var bS;return ba.get_UseAnimations()?(bS=null,bo.Delay(function(){var bT,bU,bV;bT=bj.FindAll(bR);bU=_4.ComputeChangeAnim(bQ,bT);bV=_4.ComputeEnterAnim(bQ,bT);return bo.Bind(ba.Play(ba.Append(bU,_4.ComputeExitAnim(bQ,bT))),function(){return bo.Bind(_4.SyncElemNodesNextFrame(bP,bQ),function(){return bo.Bind(ba.Play(bV),function(){bQ.PreviousNodes=bT;return bo.Return(null);});});});})):_4.SyncElemNodesNextFrame(bP,bQ);};_4.PerformSyncUpdate=function(bP,bQ,bR){var bS;bS=bj.FindAll(bR);_4.SyncElemNode(bP,bQ.Top);bQ.PreviousNodes=bS;};_4.InsertNode=function(bP,bQ,bR){S.InsertAt(bP,bR,bQ);return bQ;};_4.CreateElemNode=function(bP,bQ,bR){var bS;_4.LinkElement(bP,bR);bS=U.Insert(bP,bQ);return _.New(bS,bR,null,bP,P.Int(),bK.GetOptional(bS.OnAfterRender));};_4.SyncElemNodesNextFrame=function(bP,bQ){function bR(bS){a.requestAnimationFrame(function(){_4.SyncElemNode(bP,bQ.Top);bS();});}return bb.BatchUpdatesEnabled()?bo.FromContinuations(function(bS,bT,bU){return bR.apply(null,[bS,bT,bU]);}):(_4.SyncElemNode(bP,bQ.Top),bo.Return(null));};_4.ComputeExitAnim=function(bP,bQ){return ba.Concat(n.map(function(bR){return U.GetExitAnim(bR.Attr);},bj.ToArray(bj.Except(bQ,bj.Filter(function(bR){return U.HasExitAnim(bR.Attr);},bP.PreviousNodes)))));};_4.ComputeEnterAnim=function(bP,bQ){return ba.Concat(n.map(function(bR){return U.GetEnterAnim(bR.Attr);},bj.ToArray(bj.Except(bP.PreviousNodes,bj.Filter(function(bR){return U.HasEnterAnim(bR.Attr);},bQ)))));};_4.ComputeChangeAnim=function(bP,bQ){var bR;function bS(bT){return U.HasChangeAnim(bT.Attr);}bR=function(bT){return bj.Filter(bS,bT);};return ba.Concat(n.map(function(bT){return U.GetChangeAnim(bT.Attr);},bj.ToArray(bj.Intersect(bR(bP.PreviousNodes),bR(bQ)))));};_4.SyncElemNode=function(bP,bQ){!bP?_4.SyncElement(bQ):void 0;_4.Sync(bQ.Children);_4.AfterRender(bQ);};_4.SyncElement=function(bP){function bQ(bR){function bS(bT){var bU,bV;return bT!=null&&bT.$==0?bS(bT.$0)||bS(bT.$1):bT!=null&&bT.$==2?(bU=bT.$0,bU.Dirty||bS(bU.Current)):bT!=null&&bT.$==6&&(bV=bT.$0,bV.Dirty||n.exists(bQ,bV.Holes));}return bS(bR.Children);}U.Sync(bP.El,bP.Attr);bQ(bP)?_4.DoSyncElement(bP):void 0;};_4.Sync=function(bP){var bQ,bR;if(bP!=null&&bP.$==1)_4.SyncElemNode(false,bP.$0);else if(bP!=null&&bP.$==2)_4.Sync(bP.$0.Current);else if(bP==null);else if(bP!=null&&bP.$==5);else if(bP!=null&&bP.$==4){bQ=bP.$0;bQ.Dirty?(bQ.Text.nodeValue=bQ.Value,bQ.Dirty=false):void 0;}else if(bP!=null&&bP.$==6){bR=bP.$0;n.iter(function(bS){_4.SyncElemNode(false,bS);},bR.Holes);n.iter(function(bS){U.Sync(bS[0],bS[1]);},bR.Attrs);_4.AfterRender(bR);}else{_4.Sync(bP.$0);_4.Sync(bP.$1);}};_4.AfterRender=function(bP){var bQ;bQ=bK.GetOptional(bP.Render);bQ!=null&&bQ.$==1?(bQ.$0(bP.El),bK.SetOptional(bP,"Render",null)):void 0;};_4.InsertBeforeDelim=function(bP,bQ){var bR,bS;bR=bP.parentNode;bS=self.document.createTextNode("");bR.insertBefore(bS,bP);_4.LinkPrevElement(bP,bQ);return bS;};_4.DoSyncElement=function(bP){var bQ,bR,bS;function bT(bU,bV){var bW,bX;return bU!=null&&bU.$==1?bU.$0.El:bU!=null&&bU.$==2?(bW=bU.$0,bW.Dirty?(bW.Dirty=false,_4.InsertDoc(bQ,bW.Current,bV)):bT(bW.Current,bV)):bU==null?bV:bU!=null&&bU.$==4?bU.$0.Text:bU!=null&&bU.$==5?bU.$0:bU!=null&&bU.$==6?(bX=bU.$0,(bX.Dirty?bX.Dirty=false:void 0,n.foldBack(function(bY,bZ){return bY==null||bY.constructor===T?bT(bY,bZ):bY;},bX.Els,bV))):bT(bU.$0,bT(bU.$1,bV));}bQ=bP.El;bz.Iter((bR=bP.El,function(bU){S.RemoveNode(bR,bU);}),bz.Except(bz.DocChildren(bP),bz.Children(bP.El,bK.GetOptional(bP.Delimiters))));bT(bP.Children,(bS=bK.GetOptional(bP.Delimiters),bS!=null&&bS.$==1?bS.$0[1]:null));};_4.CreateTextNode=function(){return{Text:S.CreateText(""),Dirty:false,Value:""};};_4.UpdateTextNode=function(bP,bQ){bP.Value=bQ;bP.Dirty=true;};_4.LinkPrevElement=function(bP,bQ){_4.InsertDoc(bP.parentNode,bQ,bP);};_5.$cctor=function(){_5.$cctor=a.ignore;_5.EmptyAttr=null;};_6.$cctor=function(){_6.$cctor=a.ignore;_6.counter=0;};_7.convertTextNode=function(bP){var bQ,bR,bS,bT,bU,bV;bQ=null;bR=0;bT=bP.textContent;bU=new a.RegExp(z.TextHoleRE(),"g");while(bQ=bU.exec(bT),bQ!==null){bP.parentNode.insertBefore(self.document.createTextNode(_8.string(bT,{$:1,$0:bR},{$:1,$0:bU.lastIndex-n.get(bQ,0).length-1})),bP);bR=bU.lastIndex;bV=self.document.createElement("span");bV.setAttribute("ws-replace",n.get(bQ,1).toLowerCase());bP.parentNode.insertBefore(bV,bP);}bU.lastIndex=0;bP.textContent=_8.string(bT,{$:1,$0:bR},null);};_7.failNotLoaded=function(bP){bM.warn("Instantiating non-loaded template",bP);};_7.fillTextHole=function(bP,bQ,bR){var bS;bS=bP.querySelector("[ws-replace]");return F.Equals(bS,null)?(bM.warn("Filling non-existent text hole",bR),null):(bS.parentNode.replaceChild(new a.Text(bQ),bS),{$:1,$0:bS.getAttribute("ws-replace")});};_7.removeHolesExcept=function(bP,bQ){function bR(bS){S.IterSelector(bP,"["+bS+"]",function(bT){if(!bQ.Contains(bT.getAttribute(bS)))bT.removeAttribute(bS);});}bR("ws-attr");bR("ws-onafterrender");bR("ws-var");S.IterSelector(bP,"[ws-hole]",function(bS){if(!bQ.Contains(bS.getAttribute("ws-hole"))){bS.removeAttribute("ws-hole");while(bS.hasChildNodes())bS.removeChild(bS.lastChild);}});S.IterSelector(bP,"[ws-replace]",function(bS){if(!bQ.Contains(bS.getAttribute("ws-replace")))bS.parentNode.removeChild(bS);});S.IterSelector(bP,"[ws-on]",function(bS){bS.setAttribute("ws-on",be.concat(" ",n.filter(function(bT){return bQ.Contains(n.get(be.SplitChars(bT,[":"],1),1));},be.SplitChars(bS.getAttribute("ws-on"),[" "],1))));});S.IterSelector(bP,"[ws-attr-holes]",function(bS){var bT,bU,bV,bW,bX;bT=be.SplitChars(bS.getAttribute("ws-attr-holes"),[" "],1);for(bU=0,bV=bT.length-1;bU<=bV;bU++){bW=n.get(bT,bU);bS.setAttribute(bW,(bX=new a.RegExp(z.TextHoleRE(),"g"),bS.getAttribute(bW).replace(bX,function(bY,bZ){return bQ.Contains(bZ)?bY:"";})));}});};_7.fillInstanceAttrs=function(bP,bQ){var bR,bS,bT,bU,bV;_7.convertAttrs(bQ);bR=bQ.nodeName.toLowerCase();bS=bP.querySelector("[ws-attr="+bR+"]");if(F.Equals(bS,null))bM.warn("Filling non-existent attr hole",bR);else{bS.removeAttribute("ws-attr");for(bT=0,bU=bQ.attributes.length-1;bT<=bU;bT++){bV=bQ.attributes.item(bT);bV.name==="class"&&bS.hasAttribute("class")?bS.setAttribute("class",bS.getAttribute("class")+" "+bV.nodeValue):bS.setAttribute(bV.name,bV.nodeValue);}}};_7.mapHoles=function(bP,bQ){function bR(bS){S.IterSelector(bP,"["+bS+"]",function(bT){var bU,bV;bU=(bV=null,[bQ.TryGetValue(bT.getAttribute(bS).toLowerCase(),{get:function(){return bV;},set:function(bW){bV=bW;}}),bV]);bU[0]?bT.setAttribute(bS,bU[1]):void 0;});}bR("ws-hole");bR("ws-replace");bR("ws-attr");bR("ws-onafterrender");bR("ws-var");S.IterSelector(bP,"[ws-on]",function(bS){bS.setAttribute("ws-on",be.concat(" ",n.map(function(bT){var bU,bV,bW;bU=be.SplitChars(bT,[":"],1);bV=(bW=null,[bQ.TryGetValue(n.get(bU,1),{get:function(){return bW;},set:function(bX){bW=bX;}}),bW]);return bV[0]?n.get(bU,0)+":"+bV[1]:bT;},be.SplitChars(bS.getAttribute("ws-on"),[" "],1))));});S.IterSelector(bP,"[ws-attr-holes]",function(bS){var bT,bU,bV;bT=be.SplitChars(bS.getAttribute("ws-attr-holes"),[" "],1);for(bU=0,bV=bT.length-1;bU<=bV;bU++)(function(){var bW;function bX(bY,bZ){var b0;b0=f.KeyValue(bZ);return bY.replace(new a.RegExp("\\${"+b0[0]+"}","ig"),"${"+b0[1]+"}");}bW=n.get(bT,bU);return bS.setAttribute(bW,(((bK.Curried3(N.fold))(bX))(bS.getAttribute(bW)))(bQ));}());});};_7.fill=function(bP,bQ,bR){while(true)if(bP.hasChildNodes())bR=bQ.insertBefore(bP.lastChild,bR);else return null;};_7.convertAttrs=function(bP){var bR,bS,bT,bU,bV,bW,bX,bY;function bQ(bZ){var b0;b0=bP.getAttribute(bZ);b0===null?void 0:bP.setAttribute(bZ,b0.toLowerCase());}bR=bP.attributes;bS=[];bT=[];bU=[];for(bV=0,bW=bR.length-1;bV<=bW;bV++){bX=bR.item(bV);be.StartsWith(bX.nodeName,"ws-on")&&bX.nodeName!=="ws-onafterrender"&&bX.nodeName!=="ws-on"?(bS.push(bX.nodeName),bT.push(_8.string(bX.nodeName,{$:1,$0:"ws-on".length},null)+":"+bX.nodeValue.toLowerCase())):!be.StartsWith(bX.nodeName,"ws-")&&(new a.RegExp(z.TextHoleRE())).test(bX.nodeValue)?(bX.nodeValue=(bY=new a.RegExp(z.TextHoleRE(),"g"),bX.nodeValue.replace(bY,function(bZ,b0){return"${"+b0.toLowerCase()+"}";})),bU.push(bX.nodeName)):void 0;}!(bT.length==0)?bP.setAttribute("ws-on",be.concat(" ",bT)):void 0;!(bU.length==0)?bP.setAttribute("ws-attr-holes",be.concat(" ",bU)):void 0;bQ("ws-hole");bQ("ws-replace");bQ("ws-attr");bQ("ws-onafterrender");bQ("ws-var");n.iter(function(bZ){bP.removeAttribute(bZ);},bS);};_8.string=function(bP,bQ,bR){return bQ==null?bR!=null&&bR.$==1?bP.slice(0,bR.$0+1):"":bR==null?bP.slice(bQ.$0):bP.slice(bQ.$0,bR.$0+1);};N.insufficient=function(){return f.FailWith("The input sequence has an insufficient number of elements.");};_9=C.KeyCollection=bK.Class({GetEnumerator$1:function(){return Z.Get(N.map(function(bP){return bP.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,_9);_9.New=bK.Ctor(function(bP){g.New.call(this);this.d=bP;},_9);_=h.DocElemNode=bK.Class({Equals:function(bP){return this.ElKey===bP.ElKey;},GetHashCode:function(){return this.ElKey;}},null,_);_.New=function(bP,bQ,bR,bS,bT,bU){var bV;return new _((bV={Attr:bP,Children:bQ,El:bS,ElKey:bT},(bK.SetOptional(bV,"Delimiters",bR),bK.SetOptional(bV,"Render",bU),bV)));};V.Sink=function(bP,bQ){function bR(){x.WhenRun(bQ(),bP,function(){bo.scheduler().Fork(bR);});}bo.scheduler().Fork(bR);};V.Const=function(bP){var bQ;bQ=x.New({$:0,$0:bP});return function(){return bQ;};};V.Map=function(bP,bQ){return V.CreateLazy(function(){return x.Map(bP,bQ());});};V.Map3=function(bP,bQ,bR,bS){return V.CreateLazy(function(){return x.Map3(bP,bQ(),bR(),bS());});};V.Sequence=function(bP){return V.CreateLazy(function(){return x.Sequence(N.map(function(bQ){return bQ();},bP));});};V.Map2=function(bP,bQ,bR){return V.CreateLazy(function(){return x.Map2(bP,bQ(),bR());});};V.Map2Unit=function(bP,bQ){return V.CreateLazy(function(){return x.Map2Unit(bP(),bQ());});};V.CreateLazy=function(bP){var bQ;bQ={c:null,o:bP};return function(){var bR,bS;bR=bQ.c;return bR===null?(bR=bQ.o(),bQ.c=bR,(bS=bR.s,bS!=null&&bS.$==0)?bQ.o=null:x.WhenObsoleteRun(bR,function(){bQ.c=null;}),bR):bR;};};ba.get_UseAnimations=function(){return bk.UseAnimations();};ba.Play=function(bP){var bQ;bQ=null;return bo.Delay(function(){return bo.Bind(ba.Run(a.ignore,bk.Actions(bP)),function(){bk.Finalize(bP);return bo.Return(null);});});};ba.Append=function(bP,bQ){return{$:0,$0:bp.Append(bP.$0,bQ.$0)};};ba.Run=function(bP,bQ){var bR;function bS(bT){function bU(bV,bW){var bX;bX=bW-bV;bQ.Compute(bX);bP();return bX<=bR?void a.requestAnimationFrame(function(bY){bU(bV,bY);}):bT();}a.requestAnimationFrame(function(bV){bU(bV,bV);});}bR=bQ.Duration;return bR===0?bo.Zero():bo.FromContinuations(function(bT,bU,bV){return bS.apply(null,[bT,bU,bV]);});};ba.Concat=function(bP){return{$:0,$0:bp.Concat(N.map(bk.List,bP))};};ba.get_Empty=function(){return{$:0,$0:bp.Empty()};};bb.BatchUpdatesEnabled=function(){bl.$cctor();return bl.BatchUpdatesEnabled;};bc.StartProcessor=function(bP){var bQ;function bR(){var bS;bS=null;return bo.Delay(function(){return bo.Bind(bP,function(){var bT;bT=bQ[0];return bT===1?(bQ[0]=0,bo.Zero()):bT===2?(bQ[0]=1,bR()):bo.Zero();});});}bQ=[0];return function(){var bS;bS=bQ[0];bS===0?(bQ[0]=1,bo.Start(bR(),null)):bS===1?bQ[0]=2:void 0;};};bd.concat=function(bP){var bQ,bR;bQ=[];for(var bS in bP)bQ.push.apply(bQ,bP[bS]);return bQ;};be.concat=function(bP,bQ){return n.ofSeq(bQ).join(bP);};be.SplitChars=function(bP,bQ,bR){return be.Split(bP,new a.RegExp("["+be.RegexEscape(bQ.join(""))+"]"),bR);};be.StartsWith=function(bP,bQ){return bP.substring(0,bQ.length)==bQ;};be.Split=function(bP,bQ,bR){return bR===1?n.filter(function(bS){return bS!=="";},be.SplitWith(bP,bQ)):be.SplitWith(bP,bQ);};be.RegexEscape=function(bP){return bP.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};be.SplitWith=function(bP,bQ){return bP.split(bQ);};be.forall=function(bP,bQ){return N.forall(bP,be.protect(bQ));};be.protect=function(bP){return bP===null?"":bP;};bg.New=function(bP,bQ,bR,bS){var bT;bT={DynElem:bP,DynFlags:bQ,DynNodes:bR};bK.SetOptional(bT,"OnAfterRender",bS);return bT;};bi.New=function(bP,bQ){return{PreviousNodes:bP,Top:bQ};};bj.get_Empty=function(){return{$:0,$0:new L.New$3()};};bj.FindAll=function(bP){var bQ;function bR(bT){if(bT!=null&&bT.$==0){bR(bT.$0);bR(bT.$1);}else if(bT!=null&&bT.$==1)bS(bT.$0);else if(bT!=null&&bT.$==2)bR(bT.$0.Current);else if(bT!=null&&bT.$==6)n.iter(bS,bT.$0.Holes);}function bS(bT){bQ.push(bT);bR(bT.Children);}bQ=[];bR(bP);return{$:0,$0:new L.New$2(bQ)};};bj.Filter=function(bP,bQ){return{$:0,$0:bv.Filter(bP,bQ.$0)};};bj.Except=function(bP,bQ){return{$:0,$0:bv.Except(bP.$0,bQ.$0)};};bj.ToArray=function(bP){return bv.ToArray(bP.$0);};bj.Intersect=function(bP,bQ){return{$:0,$0:bv.Intersect(bP.$0,bQ.$0)};};bk.UseAnimations=function(){bn.$cctor();return bn.UseAnimations;};bk.Actions=function(bP){return bk.ConcatActions(n.choose(function(bQ){return bQ.$==1?{$:1,$0:bQ.$0}:null;},bp.ToArray(bP.$0)));};bk.Finalize=function(bP){n.iter(function(bQ){if(bQ.$==0)bQ.$0();},bp.ToArray(bP.$0));};bk.ConcatActions=function(bP){var bQ,bR,bS,bT;bQ=E.ofSeqNonCopying(bP);bR=n.length(bQ);return bR===0?bk.Const():bR===1?n.get(bQ,0):(bS=N.max(N.map(function(bU){return bU.Duration;},bQ)),(bT=n.map(function(bU){return bk.Prolong(bS,bU);},bQ),bk.Def(bS,function(bU){n.iter(function(bV){bV.Compute(bU);},bT);})));};bk.List=function(bP){return bP.$0;};bk.Const=function(bP){return bk.Def(0,function(){return bP;});};bk.Def=function(bP,bQ){return{Compute:bQ,Duration:bP};};bk.Prolong=function(bP,bQ){var bR,bS,bT;bR=bQ.Compute;bS=bQ.Duration;bT=bE.Create(function(){return bQ.Compute(bQ.Duration);});return{Compute:function(bU){return bU>=bS?bT.f():bR(bU);},Duration:bP};};bl.$cctor=function(){bl.$cctor=a.ignore;bl.BatchUpdatesEnabled=true;};bm=h.Elt=bK.Class({},A,bm);bm.TreeNode=function(bP,bQ){var bR,bS;function bT(bU){return bU[1];}bR=bq.Create(bQ);return new bm.New$1({$:6,$0:bP},V.Map2Unit((bS=n.map(function(bU){return U.Updates(bT(bU));},bP.Attrs),E.TreeReduce(V.Const(),V.Map2Unit,bS)),bR.v),n.get(bP.Els,0),bR);};bm.New$1=bK.Ctor(function(bP,bQ,bR,bS){A.New.call(this,bP,bQ);this.docNode$1=bP;this.updates$1=bQ;this.elt=bR;this.rvUpdates=bS;},bm);bn.$cctor=function(){bn.$cctor=a.ignore;bn.CubicInOut=br.Custom(function(bP){var bQ;bQ=bP*bP;return 3*bQ-2*(bQ*bP);});bn.UseAnimations=true;};bo.Delay=function(bP){return function(bQ){try{(bP(null))(bQ);}catch(bR){bQ.k({$:1,$0:bR});}};};bo.Bind=function(bP,bQ){return bo.checkCancel(function(bR){bP(bs.New(function(bS){var bT;if(bS.$==0){bT=bS.$0;bo.scheduler().Fork(function(){try{(bQ(bT))(bR);}catch(bU){bR.k({$:1,$0:bU});}});}else bo.scheduler().Fork(function(){bR.k(bS);});},bR.ct));});};bo.Zero=function(){bt.$cctor();return bt.Zero;};bo.Start=function(bP,bQ){var bR,bS;bR=(bS=(bo.defCTS())[0],bQ==null?bS:bQ.$0);bo.scheduler().Fork(function(){if(!bR.c)bP(bs.New(function(bT){if(bT.$==1)bo.UncaughtAsyncError(bT.$0);},bR));});};bo.Return=function(bP){return function(bQ){bQ.k({$:0,$0:bP});};};bo.checkCancel=function(bP){return function(bQ){if(bQ.ct.c)bo.cancel(bQ);else bP(bQ);};};bo.defCTS=function(){bt.$cctor();return bt.defCTS;};bo.UncaughtAsyncError=function(bP){bM.log("WebSharper: Uncaught asynchronous exception",bP);};bo.FromContinuations=function(bP){return function(bQ){var bR;function bS(bT){if(bR[0])f.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{bR[0]=true;bo.scheduler().Fork(bT);}}bR=[false];bP(function(bT){bS(function(){bQ.k({$:0,$0:bT});});},function(bT){bS(function(){bQ.k({$:1,$0:bT});});},function(bT){bS(function(){bQ.k({$:2,$0:bT});});});};};bo.cancel=function(bP){bP.k({$:2,$0:new bD.New(bP.ct)});};bo.scheduler=function(){bt.$cctor();return bt.scheduler;};bp.Append=function(bP,bQ){return bP.$==0?bQ:bQ.$==0?bP:{$:2,$0:bP,$1:bQ};};bp.ToArray=function(bP){var bQ;function bR(bS){if(bS.$==1)bQ.push(bS.$0);else if(bS.$==2){bR(bS.$0);bR(bS.$1);}else if(bS.$==3)n.iter(function(bT){bQ.push(bT);},bS.$0);}bQ=[];bR(bP);return bQ.slice(0);};bp.Concat=function(bP){var bQ;bQ=E.ofSeqNonCopying(bP);return E.TreeReduce(bp.Empty(),bp.Append,bQ);};bp.Empty=function(){bF.$cctor();return bF.Empty;};bq=h.Updates=bK.Class({},null,bq);bq.Create=function(bP){var bQ;bQ=null;bQ=bq.New(bP,null,function(){var bR;bR=bQ.s;return bR===null?(bR=x.Copy(bQ.c()),bQ.s=bR,x.WhenObsoleteRun(bR,function(){bQ.s=null;}),bR):bR;});return bQ;};bq.New=function(bP,bQ,bR){return new bq({c:bP,s:bQ,v:bR});};br=h.Easing=bK.Class({},g,br);br.Custom=function(bP){return new br.New(bP);};br.New=bK.Ctor(function(bP){g.New.call(this);this.transformTime=bP;},br);bs.New=function(bP,bQ){return{k:bP,ct:bQ};};bt.$cctor=function(){bt.$cctor=a.ignore;bt.noneCT=bu.New(false,[]);bt.scheduler=new bx.New();bt.defCTS=[new by.New()];bt.Zero=bo.Return();bt.GetCT=function(bP){bP.k({$:0,$0:bP.ct});};};bu.New=function(bP,bQ){return{c:bP,r:bQ};};bv.Filter=function(bP,bQ){return new L.New$2(n.filter(bP,bv.ToArray(bQ)));};bv.Except=function(bP,bQ){var bR;bR=new L.New$2(bv.ToArray(bQ));bR.ExceptWith(bv.ToArray(bP));return bR;};bv.ToArray=function(bP){var bQ;bQ=n.create(bP.get_Count(),void 0);bP.CopyTo(bQ);return bQ;};bv.Intersect=function(bP,bQ){var bR;bR=new L.New$2(bv.ToArray(bP));bR.IntersectWith(bv.ToArray(bQ));return bR;};bw.isBlank=function(bP){return be.forall(bA.IsWhiteSpace,bP);};bx=bo.Scheduler=bK.Class({Fork:function(bP){var bQ;bQ=this;this.robin.push(bP);this.idle?(this.idle=false,a.setTimeout(function(){bQ.tick();},0)):void 0;},tick:function(){var bP,bQ,bR;bQ=this;bR=bO.now();bP=true;while(bP)if(this.robin.length===0){this.idle=true;bP=false;}else{(this.robin.shift())();bO.now()-bR>40?(a.setTimeout(function(){bQ.tick();},0),bP=false):void 0;}}},g,bx);bx.New=bK.Ctor(function(){g.New.call(this);this.idle=true;this.robin=[];},bx);by=e.CancellationTokenSource=bK.Class({},g,by);by.New=bK.Ctor(function(){g.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},by);bz.Children=function(bP,bQ){var bR,bS,bT;if(bQ!=null&&bQ.$==1){bT=[];bR=bQ.$0[0].nextSibling;while(bR!==bQ.$0[1]){bT.push(bR);bR=bR.nextSibling;}return{$:0,$0:bT};}else return{$:0,$0:n.init(bP.childNodes.length,(bS=bP.childNodes,function(bU){return bS[bU];}))};};bz.Except=function(bP,bQ){var bR;bR=bP.$0;return{$:0,$0:n.filter(function(bS){return n.forall(function(bT){return!(bS===bT);},bR);},bQ.$0)};};bz.Iter=function(bP,bQ){n.iter(bP,bQ.$0);};bz.DocChildren=function(bP){var bQ;function bR(bS){if(bS!=null&&bS.$==2)bR(bS.$0.Current);else if(bS!=null&&bS.$==1)bQ.push(bS.$0.El);else if(bS==null);else if(bS!=null&&bS.$==5)bQ.push(bS.$0);else if(bS!=null&&bS.$==4)bQ.push(bS.$0.Text);else if(bS!=null&&bS.$==6)n.iter(function(bT){if(bT==null||bT.constructor===T)bR(bT);else bQ.push(bT);},bS.$0.Els);else{bR(bS.$0);bR(bS.$1);}}bQ=[];bR(bP.Children);return{$:0,$0:E.ofSeqNonCopying(bQ)};};bA.IsWhiteSpace=function(bP){return bP.match(new a.RegExp("\\s"))!==null;};X.TryParse=function(bP,bQ,bR,bS){var bT,bU;bT=+bP;bU=bT===bT-bT%1&&bT>=bQ&&bT<=bR;bU?bS.set(bT):void 0;return bU;};bB=h.DynamicAttrNode=bK.Class({NGetExitAnim:function(bP){return ba.get_Empty();},NGetEnterAnim:function(bP){return ba.get_Empty();},NGetChangeAnim:function(bP){return ba.get_Empty();},NChanged:function(){return this.updates;},NSync:function(bP){if(this.dirty){(this.push(bP))(this.value);this.dirty=false;}}},g,bB);bB.New=bK.Ctor(function(bP,bQ){var bR;bR=this;g.New.call(this);this.push=bQ;this.value=void 0;this.dirty=false;this.updates=V.Map(function(bS){bR.value=bS;bR.dirty=true;},bP);},bB);bD=e.OperationCanceledException=bK.Class({},bC,bD);bD.New=bK.Ctor(function(bP){bD.New$1.call(this,"The operation was canceled.",null,bP);},bD);bD.New$1=bK.Ctor(function(bP,bQ,bR){this.message=bP;this.inner=bQ;T.setPrototypeOf(this,bD.prototype);this.ct=bR;},bD);bE.Create=function(bP){return bH.New(false,bP,bE.forceLazy);};bE.forceLazy=function(){var bP;bP=this.v();this.c=true;this.v=bP;this.f=bE.cachedLazy;return bP;};bE.cachedLazy=function(){return this.v;};bF.$cctor=function(){bF.$cctor=a.ignore;bF.Empty={$:0};};bH.New=function(bP,bQ,bR){return{c:bP,v:bQ,f:bR};};bI.Clear=function(bP){bP.splice(0,n.length(bP));};bK.OnLoad(function(){c.Main();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
